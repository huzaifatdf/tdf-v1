import{q as z,r,j as t,d as A}from"./app-BW3TYL5W.js";import{g as B,S as O}from"./WebsiteLayout-Dlf-mKAz.js";import{C as w}from"./chevron-down-eORBcRJ8.js";import"./toaster-DD3FbEV6.js";import"./toast-D9pNv66z.js";import"./index-B3el3V74.js";function H(c){return Object.keys(c).map(x=>({key:x.replace(/_\d+$/,""),value:c[x]}))}const L=["Finance","Healthcare","Education","Retail"],F=["Consulting","Development","Marketing","Support"],q=["Alpha","Beta","Gamma","Delta"];function V(){const{appUrl:c}=z().props,[x,S]=r.useState([]),[i,m]=r.useState(null),C=r.useRef(null),f=r.useRef({}),g=r.useRef(null),v=r.useRef({}),[l,j]=r.useState([]),[b,D]=r.useState(null),[o,k]=r.useState(""),[u,I]=r.useState([]);function T(){A.get("/api/v1/case").then(e=>{const s=e.data;console.log(s),S(s);const n=s.map((a,d)=>{const E=JSON.parse(a.data),p=H(E.Service);return{id:String(d+1).padStart(2,"0"),title:a.title,slug:a.slug,subtitle:a.description.length>10?a.description.split(" ").slice(0,10).join(" ")+"...":a.description,mainImage:a.thumbnail?`${c}/${a.thumbnail}`:"/images/case4.png",features:p.length>0?p.map(R=>{if(R.key==="title")return R.value}).filter(Boolean):[]}});j(n),m(n.length>0?n[0].id:null),I(n)}).catch(e=>{console.error("Error fetching case studies:",e)})}const h=document.querySelector(".dynamic-filter");r.useEffect(()=>{if(o===""){j(u),m(u.length>0?u[0].id:null),h&&(h.style.opacity=1);return}const e=u.filter(s=>s.title.toLowerCase().includes(o.toLowerCase()));j(e),m(e.length>0?e[0].id:null),h&&(h.style.opacity=1)},[o]);const N=e=>{D(s=>s===e?null:e)},y=e=>e.filter(s=>s.toLowerCase().includes(o.toLowerCase()));r.useEffect(()=>{T()},[c]),r.useEffect(()=>{if(!i||!g.current||!v.current[i])return;const e=g.current,s=v.current[i];e.getBoundingClientRect();const n=s.getBoundingClientRect(),a=e.clientHeight,d=n.height,p=s.offsetTop-a/2+d/2;e.scrollTo({top:p,behavior:"smooth"})},[i]),r.useEffect(()=>{if(l.length===0)return;const e=[];return l.forEach(s=>{const n=new IntersectionObserver(([d])=>{d.isIntersecting&&m(s.id)},{threshold:.6,rootMargin:"-20% 0px -20% 0px"}),a=f.current[s.id];a&&(n.observe(a),e.push(n))}),()=>{e.forEach(s=>s.disconnect())}},[l]),r.useEffect(()=>{if(l.length===0)return;const e=C.current;e&&(B.registerPlugin(O),B.from(e,{y:50,opacity:0,duration:1,scrollTrigger:{trigger:e,start:"top 80%",end:"bottom center",toggleActions:"play none none reverse"}}))},[l]);const $=e=>{const s=f.current[e];s&&s.scrollIntoView({behavior:"smooth",block:"center"})};return l.find(e=>e.id===i),t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"container-fluid d-none",children:t.jsxs("div",{className:"text-white flex items-center justify-between border-t border-b border-[#91A7BA] relative px-4 py-2 bg-dark-950",children:[t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:text-[#9BE500] transition-colors select-none",onClick:()=>N("industries"),children:[t.jsx("span",{children:"Select Industries"}),t.jsx(w,{size:16})]}),b==="industries"&&t.jsx("ul",{className:"absolute z-20 mt-2 w-40 max-h-48 overflow-auto rounded bg-gray-800 text-white shadow-lg p-0",children:y(L).map(e=>t.jsx("li",{className:"px-4 py-2 hover:bg-[#9BE500]/30 cursor-pointer",children:e},e))})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:text-[#9BE500] transition-colors select-none",onClick:()=>N("services"),children:[t.jsx("span",{children:"Select Services"}),t.jsx(w,{size:16})]}),b==="services"&&t.jsx("ul",{className:"absolute z-20 mt-2 w-40 max-h-48 overflow-auto rounded bg-gray-800 text-white shadow-lg p-0",children:y(F).map(e=>t.jsx("li",{className:"px-4 py-2 hover:bg-[#9BE500]/30 cursor-pointer",children:e},e))})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:text-[#9BE500] transition-colors select-none",onClick:()=>N("names"),children:[t.jsx("span",{children:"Select by Name"}),t.jsx(w,{size:16})]}),b==="names"&&t.jsx("ul",{className:"absolute z-20 mt-2 w-40 max-h-48 overflow-auto rounded bg-gray-800 text-white shadow-lg p-0",children:y(q).map(e=>t.jsx("li",{className:"px-4 py-2 hover:bg-[#9BE500]/30 cursor-pointer",children:e},e))})]})]}),t.jsx("input",{type:"text",placeholder:"Search",value:o,onChange:e=>k(e.target.value),className:"mobilehide bg-transparent border-none outline-none text-white placeholder-gray-400 ml-4 min-w-[180px]"})]})}),t.jsx("section",{ref:C,className:"container-fluid min-h-screen mobile-screens dynamic-filter",children:t.jsxs("div",{className:"flex sec-padding",children:[t.jsx("div",{className:"w-1/2 sticky top-0 h-screen flex flex-col justify-center",children:t.jsx("div",{className:"max-w-lg",children:t.jsx("nav",{ref:g,className:"space-y-8 pl-6 h-[550px] overflow-y-auto custom-scrollbar custom-mobile-height",style:{direction:"rtl"},children:l.map(e=>t.jsxs("div",{ref:s=>v.current[e.id]=s,className:"relative group",style:{direction:"ltr"},children:[t.jsxs("button",{onClick:()=>$(e.id),className:`text-left w-full transition-all duration-500 ${i===e.id?"opacity-100":"hover:opacity-70"}`,children:[t.jsx("h5",{className:`text-[18px] mb-0 transition-all duration-500 ${i===e.id?"fc-purple":"fc-white"}`,children:e.id}),t.jsx("h3",{className:`text-[20px] transition-all duration-500 ${i===e.id?"fc-secondary":"fc-white"}`,children:e.title})]}),i===e.id&&t.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-10 bg-[#9BE500] transition-all duration-500"})]},e.id))})})}),t.jsx("div",{className:"w-1/2",children:l.map(e=>t.jsx("div",{ref:s=>f.current[e.id]=s,className:"min-h-screen flex items-center",children:t.jsxs("div",{className:"animate-fadeIn",children:[t.jsx("img",{src:e.mainImage,alt:`${e.title} main image`,className:"w-full h-auto mb-6"}),t.jsx("h2",{className:"text-[26px] fc-secondary mb-2",children:e.title}),t.jsx("p",{className:"text-[20px] fc-primary mb-3 leading-relaxed",children:e.subtitle}),t.jsx("ul",{className:"mb-10",children:e.features.map((s,n)=>n>=3?n===3?t.jsx("div",{className:"flex items-start",children:t.jsx("span",{className:"fc-primary text-[18px] leading-relaxed mt-2",children:"and more..."})},n):null:t.jsx("div",{className:"flex items-start",children:t.jsx("li",{className:"fc-primary text-[18px] leading-relaxed",children:s})},n))}),t.jsxs("a",{className:"group flex items-center gap-2 bg-transparent border-none fc-primary transition-colors duration-300 text-lg font-medium cursor-pointer",href:route("casestudy.show",e.slug),children:["Read more ",t.jsx("span",{className:"fc-purple group-hover:translate-x-1 transition-transform",children:"â†’"})]}),t.jsx("hr",{className:"border-white mb-8"})]})},e.id))})]})})]})}export{V as default};
