import{J as F,r as l,j as e,Q as L,S as N}from"./app-BKKrfPOM.js";import{A as U}from"./AuthenticatedLayout-Bv59O-pT.js";import{I as v,B as m}from"./breadcrumb-BWjFOHGP.js";import{T as q}from"./textarea-DUM0v6CZ.js";import{S as D,a as R,b as k,c as A,d as y}from"./select-CLmzDP0_.js";import{F as T,a as $,b as c,E as n}from"./formik.esm-bZhbRDwB.js";import{c as O,a as z,b as u}from"./index.esm-DefWCrKl.js";import w from"./Model-c8vn8-9L.js";import{X as S}from"./toast-sj-if5eX.js";import"./toaster-UeHU4vph.js";import"./index-sJv-J0vs.js";import"./index-DEGscCao.js";import"./chevron-down-Bhm0dQOe.js";import"./alert-DRZ_3xTL.js";import"./Modal-Bie1W9Cx.js";import"./transition-D-5_XVHY.js";import"./search-DJpkiQ5k.js";import"./trash-2-6vYW72ZX.js";import"./video-DWXHUUHe.js";import"./upload-qdIT62pn.js";import"./download-C35p1D3d.js";import"./eye-AUKqkiHm.js";function de(){const{ourclient:t,appUrl:p}=F().props,[i,x]=l.useState(p+"/"+t.image||null),[o,h]=l.useState(p+"/"+t.coloredimage||null),C=O({name:u().required("Name is required").min(2,"Name must be at least 2 characters").max(255,"Name must not exceed 255 characters"),description:u().notRequired().max(1e3,"Description must not exceed 1000 characters"),status:u().required("Status is required").oneOf(["published","draft"],"Invalid status"),priority:z().required("Priority is required").min(0,"Priority must be at least 0").max(100,"Priority must not exceed 100")}),M=(s,{setSubmitting:a})=>{const r=new FormData;["name","description","status","priority"].forEach(d=>{r.append(d,s[d])}),r.append("image",s.image),r.append("coloredimage",s.coloredimage),r.append("_method","PUT"),N.post(route("ourclient.update",t.id),r,{forceFormData:!0,onSuccess:()=>{a(!1)},onError:d=>{a(!1)}})},g=(s,a,r)=>{s(a,null),r(null)},P=()=>({name:t.name||"",description:t.description||"",image:t.image||null,status:t.status||"",priority:t.priority||0}),[I,j]=l.useState(!1),[E,b]=l.useState(!1);return e.jsxs(U,{children:[e.jsx(L,{title:`Edit ourclient - ${t.name}`}),e.jsx("div",{className:"flex flex-1 flex-col",children:e.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2 p-10",children:e.jsx("div",{className:"w-full",children:e.jsx(T,{initialValues:P(),validationSchema:C,onSubmit:M,children:({isSubmitting:s,setFieldValue:a,values:r})=>e.jsxs($,{className:"space-y-6 bg-white p-6 rounded-lg shadow",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit ourclient"}),e.jsx("p",{className:"text-gray-600",children:"Update ourclient information"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Client Name *"}),e.jsx(c,{as:v,id:"name",name:"name",placeholder:"Enter name"}),e.jsx(n,{name:"name",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),e.jsx(c,{as:q,id:"description",name:"description",placeholder:"Enter ourclient description",rows:4}),e.jsx(n,{name:"description",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Status *"}),e.jsxs(D,{name:"status",value:r.status,onValueChange:f=>a("status",f),children:[e.jsx(R,{children:e.jsx(k,{placeholder:"Select status"})}),e.jsxs(A,{children:[e.jsx(y,{value:"published",children:"Published"}),e.jsx(y,{value:"draft",children:"Draft"})]})]}),e.jsx(n,{name:"status",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"priority",className:"text-sm font-medium",children:"Priority (0-100) *"}),e.jsx(c,{as:v,id:"priority",name:"priority",type:"number",min:"0",max:"100",placeholder:"0"}),e.jsx(n,{name:"priority",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"image",className:"text-sm font-medium",children:"ourclient Image"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:[e.jsx("button",{type:"button",onClick:()=>j(!0),children:i?"Change Media":"Add Media"}),e.jsx(w,{routename:route("ourclient.edit",t.id),showModal:I,setShowModal:j,setFieldValue:a,fieldName:"image",setImagePreview:x}),i&&e.jsxs("div",{className:"relative mt-4",children:[e.jsx("img",{src:typeof i=="string"?i:URL.createObjectURL(i),alt:"ourclient Preview",className:"w-24 h-24 object-cover rounded-lg mx-auto"}),e.jsx(m,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2",onClick:()=>g(a,"image",x),children:e.jsx(S,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"image",className:"text-sm font-medium",children:"Coloured Image"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:[e.jsx("button",{type:"button",onClick:()=>b(!0),children:o?"Change Media":"Add Media"}),e.jsx(w,{routename:route("ourclient.edit",t.id),showModal:E,setShowModal:b,setFieldValue:a,fieldName:"coloredimage",setImagePreview:h}),o&&e.jsxs("div",{className:"relative mt-4",children:[e.jsx("img",{src:typeof o=="string"?o:URL.createObjectURL(o),alt:"ourclient Preview",className:"w-24 h-24 object-cover rounded-lg mx-auto"}),e.jsx(m,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2",onClick:()=>g(a,"coloredimage",h),children:e.jsx(S,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(m,{type:"button",variant:"outline",onClick:()=>N.get(route("ourclient.index")),children:"Cancel"}),e.jsx(m,{type:"submit",disabled:s,children:s?"Updating...":"Update client"})]})]})})})})})]})}export{de as default};
