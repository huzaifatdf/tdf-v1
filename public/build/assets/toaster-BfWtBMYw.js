import{r as d,j as n}from"./app-C4XjJMMu.js";import{T as f,q as m,r as A,s as E,t as l,v as O}from"./toast-BRalS9P_.js";const _=1,x=1e6;let u=0;function h(){return u=(u+1)%Number.MAX_SAFE_INTEGER,u.toString()}const c=new Map,S=s=>{if(c.has(s))return;const t=setTimeout(()=>{c.delete(s),a({type:"REMOVE_TOAST",toastId:s})},x);c.set(s,t)},I=(s,t)=>{switch(t.type){case"ADD_TOAST":return{...s,toasts:[t.toast,...s.toasts].slice(0,_)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{const{toastId:e}=t;return e?S(e):s.toasts.forEach(o=>{S(o.id)}),{...s,toasts:s.toasts.map(o=>o.id===e||e===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return t.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(e=>e.id!==t.toastId)}}},i=[];let T={toasts:[]};function a(s){T=I(T,s),i.forEach(t=>{t(T)})}function D({...s}){const t=h(),e=r=>a({type:"UPDATE_TOAST",toast:{...r,id:t}}),o=()=>a({type:"DISMISS_TOAST",toastId:t});return a({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:r=>{r||o()}}}),{id:t,dismiss:o,update:e}}function j(){const[s,t]=d.useState(T);return d.useEffect(()=>(i.push(t),()=>{const e=i.indexOf(t);e>-1&&i.splice(e,1)}),[s]),{...s,toast:D,dismiss:e=>a({type:"DISMISS_TOAST",toastId:e})}}function R(){const{toasts:s}=j();return n.jsxs(f,{children:[s.map(function({id:t,title:e,description:o,action:r,...p}){return n.jsxs(m,{...p,children:[n.jsxs("div",{className:"grid gap-1",children:[e&&n.jsx(A,{children:e}),o&&n.jsx(E,{children:o})]}),r,n.jsx(l,{})]},t)}),n.jsx(O,{})]})}export{R as T,j as u};
