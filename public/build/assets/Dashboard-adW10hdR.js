import{r as p,j as e,q as S,$ as _}from"./app-CgtCz3Pu.js";import{A as D}from"./AuthenticatedLayout-BfZ-o8td.js";import{C as d,a as o,b as x,c as h}from"./card-C_CE4VMZ.js";import"./select-BeDQgTxS.js";import{I as f}from"./breadcrumb-B2qSfoBg.js";import{T as j,a as g,b as c,c as r,d as u,e as i}from"./table-CLGLOIAm.js";import{B as N}from"./badge-BG-QZwqM.js";import{T as I,a as R,b as v,c as b}from"./tabs-CQfXOTR8.js";import"./toast-FCvSmKEn.js";import"./index-5hNbFnnJ.js";import"./toaster-DuTz4Z0s.js";import"./index-DPI3imPx.js";import"./chevron-down-BHWPYLIo.js";const Q=({data:t})=>{const[l,y]=p.useState(""),[w,T]=p.useState(""),[C,k]=p.useState(""),L=t.performance.top_queries.filter(s=>s.keys[0].toLowerCase().includes(l.toLowerCase())),P=t.performance.top_pages.filter(s=>s.keys[0].toLowerCase().includes(w.toLowerCase())),F=t.performance.daily_performance.filter(s=>s.keys[0].toLowerCase().includes(C.toLowerCase())),a=s=>new Intl.NumberFormat().format(s),m=s=>`${(s*100).toFixed(2)}%`;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(d,{children:[e.jsx(o,{children:e.jsx(x,{children:"Site Information"})}),e.jsx(h,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Site URL"}),e.jsx("p",{className:"font-medium",children:t.site_info.site_url})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),e.jsx(N,{variant:t.site_info.status==="active"?"default":"destructive",children:t.site_info.status})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Updated"}),e.jsx("p",{className:"font-medium",children:new Date(t.site_info.last_updated).toLocaleString()})]})]})})]}),e.jsxs(d,{children:[e.jsx(o,{children:e.jsx(x,{children:"Sitemaps"})}),e.jsx(h,{children:e.jsxs(j,{children:[e.jsx(g,{children:e.jsxs(c,{children:[e.jsx(r,{children:"Path"}),e.jsx(r,{children:"Last Submitted"}),e.jsx(r,{children:"Last Downloaded"}),e.jsx(r,{children:"Warnings"}),e.jsx(r,{children:"Errors"})]})}),e.jsx(u,{children:t.sitemaps.list.map((s,n)=>e.jsxs(c,{children:[e.jsx(i,{className:"font-medium",children:s.path}),e.jsx(i,{children:new Date(s.last_submitted).toLocaleDateString()}),e.jsx(i,{children:new Date(s.last_downloaded).toLocaleDateString()}),e.jsx(i,{children:e.jsx(N,{variant:s.warnings>0?"destructive":"default",children:s.warnings})}),e.jsx(i,{children:e.jsx(N,{variant:s.errors>0?"destructive":"default",children:s.errors})})]},n))})]})})]}),e.jsxs(d,{children:[e.jsx(o,{children:e.jsxs(x,{children:["Performance Summary (",t.performance.period_days," days)"]})}),e.jsx(h,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Clicks"}),e.jsx("p",{className:"text-2xl font-bold",children:a(t.performance.totals.clicks)})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Impressions"}),e.jsx("p",{className:"text-2xl font-bold",children:a(t.performance.totals.impressions)})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Average CTR"}),e.jsx("p",{className:"text-2xl font-bold",children:m(t.performance.totals.average_ctr)})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Average Position"}),e.jsx("p",{className:"text-2xl font-bold",children:t.performance.totals.average_position.toFixed(2)})]})]})})]}),e.jsxs(I,{defaultValue:"queries",className:"w-full",children:[e.jsxs(R,{className:"grid grid-cols-3 w-full",children:[e.jsx(v,{value:"queries",children:"Top Queries"}),e.jsx(v,{value:"pages",children:"Top Pages"}),e.jsx(v,{value:"daily",children:"Daily Performance"})]}),e.jsx(b,{value:"queries",children:e.jsxs(d,{children:[e.jsx(o,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(x,{children:"Top Queries"}),e.jsx(f,{placeholder:"Filter queries...",value:l,onChange:s=>y(s.target.value),className:"max-w-sm"})]})}),e.jsx(h,{children:e.jsxs(j,{children:[e.jsx(g,{children:e.jsxs(c,{children:[e.jsx(r,{children:"Query"}),e.jsx(r,{className:"text-right",children:"Clicks"}),e.jsx(r,{className:"text-right",children:"Impressions"}),e.jsx(r,{className:"text-right",children:"CTR"}),e.jsx(r,{className:"text-right",children:"Position"})]})}),e.jsx(u,{children:L.map((s,n)=>e.jsxs(c,{children:[e.jsx(i,{className:"font-medium",children:s.keys[0]}),e.jsx(i,{className:"text-right",children:a(s.clicks)}),e.jsx(i,{className:"text-right",children:a(s.impressions)}),e.jsx(i,{className:"text-right",children:m(s.ctr)}),e.jsx(i,{className:"text-right",children:s.position.toFixed(2)})]},n))})]})})]})}),e.jsx(b,{value:"pages",children:e.jsxs(d,{children:[e.jsx(o,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(x,{children:"Top Pages"}),e.jsx(f,{placeholder:"Filter pages...",value:w,onChange:s=>T(s.target.value),className:"max-w-sm"})]})}),e.jsx(h,{children:e.jsxs(j,{children:[e.jsx(g,{children:e.jsxs(c,{children:[e.jsx(r,{children:"Page"}),e.jsx(r,{className:"text-right",children:"Clicks"}),e.jsx(r,{className:"text-right",children:"Impressions"}),e.jsx(r,{className:"text-right",children:"CTR"}),e.jsx(r,{className:"text-right",children:"Position"})]})}),e.jsx(u,{children:P.map((s,n)=>e.jsxs(c,{children:[e.jsx(i,{className:"font-medium",children:e.jsx("a",{href:s.keys[0],target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:s.keys[0].replace("https://thedesignsfirm.com","")||"/"})}),e.jsx(i,{className:"text-right",children:a(s.clicks)}),e.jsx(i,{className:"text-right",children:a(s.impressions)}),e.jsx(i,{className:"text-right",children:m(s.ctr)}),e.jsx(i,{className:"text-right",children:s.position.toFixed(2)})]},n))})]})})]})}),e.jsx(b,{value:"daily",children:e.jsxs(d,{children:[e.jsx(o,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(x,{children:"Daily Performance"}),e.jsx(f,{placeholder:"Filter by date...",value:C,onChange:s=>k(s.target.value),className:"max-w-sm"})]})}),e.jsx(h,{children:e.jsxs(j,{children:[e.jsx(g,{children:e.jsxs(c,{children:[e.jsx(r,{children:"Date"}),e.jsx(r,{className:"text-right",children:"Clicks"}),e.jsx(r,{className:"text-right",children:"Impressions"}),e.jsx(r,{className:"text-right",children:"CTR"}),e.jsx(r,{className:"text-right",children:"Position"})]})}),e.jsx(u,{children:F.map((s,n)=>e.jsxs(c,{children:[e.jsx(i,{className:"font-medium",children:new Date(s.keys[0]).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",weekday:"short"})}),e.jsx(i,{className:"text-right",children:a(s.clicks)}),e.jsx(i,{className:"text-right",children:a(s.impressions)}),e.jsx(i,{className:"text-right",children:m(s.ctr)}),e.jsx(i,{className:"text-right",children:s.position.toFixed(2)})]},n))})]})})]})})]})]})};function M(){const{rating:t,report:l}=S().props;return console.log("report",l),e.jsxs(D,{children:[e.jsx(_,{title:"Profile"}),e.jsx("div",{className:"flex flex-1 flex-col",children:e.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2",children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100 dark:from-gray-900 dark:to-slate-800",children:e.jsx("div",{className:"border-b bg-white/50 dark:bg-gray-900/50 backdrop-blur-sm",children:e.jsx("div",{className:"px-6 py-4",children:l!=null&&l.data?e.jsx(Q,{data:l.data}):e.jsx("p",{className:"text-gray-500",children:"No data available"})})})})})})]})}export{M as default};
