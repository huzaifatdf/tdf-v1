import{r as S,j as e,q as F,$ as R}from"./app-BmJVJtxh.js";import{A as I}from"./AuthenticatedLayout-CkoPaGpx.js";import{T as f,a as p,b as c,c as r,d as N,e as i}from"./table-DIuJw_2G.js";import{I as P}from"./breadcrumb-C5QomLu2.js";import{C as n,a,b as d,c as x}from"./card-D0Ebsefp.js";import{B as k}from"./badge-DnqHl1X4.js";import{T as L,a as D,b as m,c as u}from"./tabs-BP_MbPH3.js";import"./toast-DNpzEbAw.js";import"./index-DnzItowg.js";import"./toaster-CLP0Ul_P.js";const V=({data:l})=>{const[h,v]=S.useState(""),[b,y]=S.useState(""),[w,C]=S.useState(""),_=l.performance.top_queries.filter(s=>s.keys[0].toLowerCase().includes(h.toLowerCase())),t=l.performance.top_pages.filter(s=>s.keys[0].toLowerCase().includes(b.toLowerCase())),o=l.performance.daily_performance.filter(s=>s.keys[0].toLowerCase().includes(w.toLowerCase())),j=s=>new Intl.NumberFormat().format(s),T=s=>`${(s*100).toFixed(2)}%`;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(n,{children:[e.jsx(a,{children:e.jsx(d,{children:"Site Information"})}),e.jsx(x,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Site URL"}),e.jsx("p",{className:"font-medium",children:l.site_info.site_url})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),e.jsx(k,{variant:l.site_info.status==="active"?"default":"destructive",children:l.site_info.status})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Updated"}),e.jsx("p",{className:"font-medium",children:new Date(l.site_info.last_updated).toLocaleString()})]})]})})]}),e.jsxs(n,{children:[e.jsx(a,{children:e.jsx(d,{children:"Sitemaps"})}),e.jsx(x,{children:e.jsxs(f,{children:[e.jsx(p,{children:e.jsxs(c,{children:[e.jsx(r,{children:"Path"}),e.jsx(r,{children:"Last Submitted"}),e.jsx(r,{children:"Last Downloaded"}),e.jsx(r,{children:"Warnings"}),e.jsx(r,{children:"Errors"})]})}),e.jsx(N,{children:l.sitemaps.list.map((s,g)=>e.jsxs(c,{children:[e.jsx(i,{className:"font-medium",children:s.path}),e.jsx(i,{children:new Date(s.last_submitted).toLocaleDateString()}),e.jsx(i,{children:new Date(s.last_downloaded).toLocaleDateString()}),e.jsx(i,{children:e.jsx(k,{variant:s.warnings>0?"destructive":"default",children:s.warnings})}),e.jsx(i,{children:e.jsx(k,{variant:s.errors>0?"destructive":"default",children:s.errors})})]},g))})]})})]}),e.jsxs(n,{children:[e.jsx(a,{children:e.jsxs(d,{children:["Performance Summary (",l.performance.period_days," days)"]})}),e.jsx(x,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Clicks"}),e.jsx("p",{className:"text-2xl font-bold",children:j(l.performance.totals.clicks)})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Impressions"}),e.jsx("p",{className:"text-2xl font-bold",children:j(l.performance.totals.impressions)})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Average CTR"}),e.jsx("p",{className:"text-2xl font-bold",children:T(l.performance.totals.average_ctr)})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Average Position"}),e.jsx("p",{className:"text-2xl font-bold",children:l.performance.totals.average_position.toFixed(2)})]})]})})]}),e.jsxs(L,{defaultValue:"queries",className:"w-full",children:[e.jsxs(D,{className:"grid grid-cols-3 w-full",children:[e.jsx(m,{value:"queries",children:"Top Queries"}),e.jsx(m,{value:"pages",children:"Top Pages"}),e.jsx(m,{value:"daily",children:"Daily Performance"})]}),e.jsx(u,{value:"queries",children:e.jsxs(n,{children:[e.jsx(a,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(d,{children:"Top Queries"}),e.jsx(P,{placeholder:"Filter queries...",value:h,onChange:s=>v(s.target.value),className:"max-w-sm"})]})}),e.jsx(x,{children:e.jsxs(f,{children:[e.jsx(p,{children:e.jsxs(c,{children:[e.jsx(r,{children:"Query"}),e.jsx(r,{className:"text-right",children:"Clicks"}),e.jsx(r,{className:"text-right",children:"Impressions"}),e.jsx(r,{className:"text-right",children:"CTR"}),e.jsx(r,{className:"text-right",children:"Position"})]})}),e.jsx(N,{children:_.map((s,g)=>e.jsxs(c,{children:[e.jsx(i,{className:"font-medium",children:s.keys[0]}),e.jsx(i,{className:"text-right",children:j(s.clicks)}),e.jsx(i,{className:"text-right",children:j(s.impressions)}),e.jsx(i,{className:"text-right",children:T(s.ctr)}),e.jsx(i,{className:"text-right",children:s.position.toFixed(2)})]},g))})]})})]})}),e.jsx(u,{value:"pages",children:e.jsxs(n,{children:[e.jsx(a,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(d,{children:"Top Pages"}),e.jsx(P,{placeholder:"Filter pages...",value:b,onChange:s=>y(s.target.value),className:"max-w-sm"})]})}),e.jsx(x,{children:e.jsxs(f,{children:[e.jsx(p,{children:e.jsxs(c,{children:[e.jsx(r,{children:"Page"}),e.jsx(r,{className:"text-right",children:"Clicks"}),e.jsx(r,{className:"text-right",children:"Impressions"}),e.jsx(r,{className:"text-right",children:"CTR"}),e.jsx(r,{className:"text-right",children:"Position"})]})}),e.jsx(N,{children:t.map((s,g)=>e.jsxs(c,{children:[e.jsx(i,{className:"font-medium",children:e.jsx("a",{href:s.keys[0],target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:s.keys[0].replace("https://thedesignsfirm.com","")||"/"})}),e.jsx(i,{className:"text-right",children:j(s.clicks)}),e.jsx(i,{className:"text-right",children:j(s.impressions)}),e.jsx(i,{className:"text-right",children:T(s.ctr)}),e.jsx(i,{className:"text-right",children:s.position.toFixed(2)})]},g))})]})})]})}),e.jsx(u,{value:"daily",children:e.jsxs(n,{children:[e.jsx(a,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(d,{children:"Daily Performance"}),e.jsx(P,{placeholder:"Filter by date...",value:w,onChange:s=>C(s.target.value),className:"max-w-sm"})]})}),e.jsx(x,{children:e.jsxs(f,{children:[e.jsx(p,{children:e.jsxs(c,{children:[e.jsx(r,{children:"Date"}),e.jsx(r,{className:"text-right",children:"Clicks"}),e.jsx(r,{className:"text-right",children:"Impressions"}),e.jsx(r,{className:"text-right",children:"CTR"}),e.jsx(r,{className:"text-right",children:"Position"})]})}),e.jsx(N,{children:o.map((s,g)=>e.jsxs(c,{children:[e.jsx(i,{className:"font-medium",children:new Date(s.keys[0]).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",weekday:"short"})}),e.jsx(i,{className:"text-right",children:j(s.clicks)}),e.jsx(i,{className:"text-right",children:j(s.impressions)}),e.jsx(i,{className:"text-right",children:T(s.ctr)}),e.jsx(i,{className:"text-right",children:s.position.toFixed(2)})]},g))})]})})]})})]})]})},q=({data:l})=>{var b,y,w,C,_;const h=t=>(t==null?void 0:t.toLocaleString())||"0",v=(t,o)=>!o||o===0?"0%":`${(t/o*100).toFixed(1)}%`;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(n,{children:[e.jsx(a,{children:e.jsx(d,{className:"text-sm font-medium",children:"Total Visits"})}),e.jsx(x,{children:e.jsx("p",{className:"text-2xl font-bold",children:h(l.total_visits)})})]}),e.jsxs(n,{children:[e.jsx(a,{children:e.jsx(d,{className:"text-sm font-medium",children:"Unique Visitors"})}),e.jsx(x,{children:e.jsx("p",{className:"text-2xl font-bold",children:h(l.unique_visitors)})})]}),e.jsxs(n,{children:[e.jsx(a,{children:e.jsx(d,{className:"text-sm font-medium",children:"Bounce Rate"})}),e.jsx(x,{children:e.jsxs("p",{className:"text-2xl font-bold",children:[(b=l.bounce_rate)==null?void 0:b.toFixed(1),"%"]})})]}),e.jsxs(n,{children:[e.jsx(a,{children:e.jsx(d,{className:"text-sm font-medium",children:"Device Distribution"})}),e.jsx(x,{children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Desktop"}),e.jsx("p",{className:"text-lg font-bold",children:((y=l.device_distribution)==null?void 0:y.desktop)||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Mobile"}),e.jsx("p",{className:"text-lg font-bold",children:((w=l.device_distribution)==null?void 0:w.mobile)||0})]})]})})]})]}),e.jsxs(L,{defaultValue:"pages",className:"w-full",children:[e.jsxs(D,{className:"grid grid-cols-3 w-full",children:[e.jsx(m,{value:"pages",children:"Top Pages"}),e.jsx(m,{value:"sources",children:"Traffic Sources"}),e.jsx(m,{value:"countries",children:"Countries"})]}),e.jsx(u,{value:"pages",children:e.jsxs(n,{children:[e.jsx(a,{children:e.jsx(d,{children:"Top Pages"})}),e.jsx(x,{children:e.jsxs(f,{children:[e.jsx(p,{children:e.jsxs(c,{children:[e.jsx(r,{children:"Page URL"}),e.jsx(r,{className:"text-right",children:"Visits"}),e.jsx(r,{className:"text-right",children:"Percentage"})]})}),e.jsx(N,{children:(C=l.top_pages)==null?void 0:C.map((t,o)=>e.jsxs(c,{children:[e.jsx(i,{className:"font-medium",children:e.jsx("a",{href:t.page_url,target:"_blank",rel:"noopener noreferrer",className:"hover:underline text-blue-600",children:t.page_url.replace("https://","").replace("http://","")})}),e.jsx(i,{className:"text-right",children:h(t.visits)}),e.jsx(i,{className:"text-right",children:v(t.visits,l.total_visits)})]},o))})]})})]})}),e.jsx(u,{value:"sources",children:e.jsxs(n,{children:[e.jsx(a,{children:e.jsx(d,{children:"Traffic Sources"})}),e.jsx(x,{children:e.jsxs(f,{children:[e.jsx(p,{children:e.jsxs(c,{children:[e.jsx(r,{children:"Source"}),e.jsx(r,{className:"text-right",children:"Visits"}),e.jsx(r,{className:"text-right",children:"Percentage"})]})}),e.jsx(N,{children:(_=l.traffic_sources)==null?void 0:_.map((t,o)=>e.jsxs(c,{children:[e.jsx(i,{className:"font-medium",children:e.jsx(k,{variant:"outline",children:t.source})}),e.jsx(i,{className:"text-right",children:h(t.visits)}),e.jsx(i,{className:"text-right",children:v(t.visits,l.total_visits)})]},o))})]})})]})}),e.jsx(u,{value:"countries",children:e.jsxs(n,{children:[e.jsx(a,{children:e.jsx(d,{children:"Country Distribution"})}),e.jsx(x,{children:e.jsxs(f,{children:[e.jsx(p,{children:e.jsxs(c,{children:[e.jsx(r,{children:"Country"}),e.jsx(r,{className:"text-right",children:"Visits"}),e.jsx(r,{className:"text-right",children:"Percentage"})]})}),e.jsx(N,{children:Object.entries(l.country_distribution||{}).map(([t,o],j)=>e.jsxs(c,{children:[e.jsx(i,{className:"font-medium",children:t}),e.jsx(i,{className:"text-right",children:h(o)}),e.jsx(i,{className:"text-right",children:v(o,l.total_visits)})]},j))})]})})]})})]})]})};function M(){const{stats:l,report:h}=F().props;return e.jsxs(I,{children:[e.jsx(R,{title:"Profile"}),e.jsx("div",{className:"flex flex-1 flex-col",children:e.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2",children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100 dark:from-gray-900 dark:to-slate-800",children:e.jsx("div",{className:"border-b bg-white/50 dark:bg-gray-900/50 backdrop-blur-sm",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs(L,{defaultValue:"console",className:"w-full",children:[e.jsxs(D,{className:"grid grid-cols-2 w-full",children:[e.jsx(m,{value:"console",children:"Google Search Console"}),e.jsx(m,{value:"seo",children:"Website SEO Analysis"})]}),e.jsx(u,{value:"console",children:h.length!==0?e.jsx(V,{data:h}):e.jsx("p",{className:"text-gray-500",children:"No data available"})}),e.jsx(u,{value:"seo",children:e.jsx(q,{data:l})})]})})})})})})]})}export{M as default};
