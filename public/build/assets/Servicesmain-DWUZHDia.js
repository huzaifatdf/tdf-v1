import{r as o,q as w,R as g,d as S,j as t}from"./app-DS8YH8eM.js";import{g as f,S as j,W as _}from"./WebsiteLayout-C_0Zw2p0.js";import{p as E}from"./index-DpIMGT8Y.js";import"./toaster-CyUkJLah.js";import"./toast-DRa9JzkW.js";import"./index-Bmkn6oWi.js";function R(s){return Object.keys(s).map(l=>({key:l.replace(/_\d+$/,""),value:s[l]}))}function T(){const[s,l]=o.useState("text-to-text"),u=o.useRef(null),m=o.useRef({}),h=o.useRef(null),x=o.useRef({}),{appUrl:v}=w().props,[r,b]=g.useState([]);g.useEffect(()=>{S.get("/api/v1/services").then(e=>{console.log(e.data),b(e.data),e.data.length>0&&l(e.data[0].section_no)}).catch(e=>{console.error(e)})},[]),o.useEffect(()=>{if(!s||!h.current||!x.current[s])return;const e=h.current,n=x.current[s],c=e.clientHeight,a=n.offsetHeight,i=n.offsetTop-c/2+a/2;e.scrollTo({top:i,behavior:"smooth"})},[s]),o.useEffect(()=>{const e=document.querySelector(".container-fluid"),n=()=>{const c=e.scrollTop;let a=r.length>0?r[0].section_no:"01";r.forEach(d=>{const i=m.current[d.section_no];if(i){const{offsetTop:p,offsetHeight:N}=i;c>=p-100&&c<p+N-100&&(a=d.section_no)}}),l(a)};if(e)return e.addEventListener("scroll",n),()=>e.removeEventListener("scroll",n)},[r]),o.useEffect(()=>{if(r.length===0)return;const e=[];return r.forEach(n=>{const c=new IntersectionObserver(([d])=>{d.isIntersecting&&l(n.section_no)},{threshold:.1,rootMargin:"-20% 0px -20% 0px"}),a=m.current[n.section_no];a&&(c.observe(a),e.push(c))}),()=>{e.forEach(n=>n.disconnect())}},[r]),o.useEffect(()=>{if(r.length===0)return;const e=u.current;e&&(f.registerPlugin(j),f.from(e,{y:50,opacity:0,duration:1,scrollTrigger:{trigger:e,start:"top 80%",end:"bottom center",toggleActions:"play none none reverse"}}))},[r]);const y=e=>{const n=m.current[e];n&&n.scrollIntoView({behavior:"smooth",block:"start"})};return r.find(e=>e.section_no===s),t.jsx(t.Fragment,{children:t.jsx("section",{ref:u,className:"container-fluid min-h-screen service-main",children:t.jsxs("div",{className:"flex",children:[t.jsx("div",{className:"w-1/2 sticky top-0 h-screen flex flex-col justify-center",children:t.jsx("div",{className:"max-w-lg",children:t.jsx("nav",{ref:h,className:"space-y-8 pl-6 h-[600px] overflow-y-auto custom-scrollbar custom-mobile-height",style:{direction:"rtl"},children:r.map((e,n)=>t.jsxs("div",{ref:c=>x.current[e.section_no]=c,className:"relative group",children:[t.jsxs("button",{onClick:()=>y(e.section_no),className:`text-left w-full transition-all duration-500 ${s===e.section_no?"opacity-100":"hover:opacity-70"}`,children:[t.jsx("h5",{className:`text-[18px] mb-0 transition-all duration-500 ${s===e.section_no?"fc-purple":"fc-white"}`,children:e.section_no}),t.jsx("h3",{className:`text-[20px] transition-all duration-500 fc-secondary ${s===e.section_no?"fc-secondary":"fc-white"}`,children:e.title})]}),s===e.section_no&&t.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-10 bg-[#9BE500] transition-all duration-500"})]},e.id))})})}),t.jsx("div",{className:"w-1/2",children:r.map((e,n)=>{var d;const c=(d=e==null?void 0:e.data)==null?void 0:d.techstack;let a=[];if(c)try{const i=JSON.parse(c);a=R(i)}catch(i){console.error("Failed to parse techstack JSON:",i)}return t.jsx("div",{ref:i=>m.current[e.section_no]=i,className:"min-h-screen flex items-center py-20",children:t.jsx("div",{className:"",children:t.jsxs("div",{className:"animate-fadeIn",children:[t.jsx("img",{src:`${v}/${e.thumbnail}`,alt:`${e.title} main image`,className:"w-full h-auto mb-6"}),t.jsx("h2",{className:"text-[26px] text-white mb-2",children:e.title}),t.jsx("p",{className:"text-[18px] fc-primary leading-relaxed",children:E(e.description)}),t.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:a.map((i,p)=>t.jsx("img",{src:`${v}/${i.value}`}))})]})})},e.section_no)})}),t.jsx("hr",{className:"border-white mb-8"})]})})})}f.registerPlugin(j);function A(){const s=o.useRef(null);return o.useEffect(()=>{const l=s.current;f.from(l,{y:50,opacity:0,duration:1,scrollTrigger:{trigger:l,start:"top 80%",end:"bottom center",toggleActions:"play none none reverse"}})},[]),t.jsxs(_,{title:"Case Studies | TDF Agency",description:"Explore our portfolio of successful digital transformations and client success stories.",children:[t.jsxs("section",{ref:s,className:"min-h-[40vh] flex items-center relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-50"}),t.jsx("div",{className:"container-fluid relative mt-[150px] mb-[30px]",children:t.jsxs("div",{className:"",children:[t.jsxs("div",{className:"flex flex-col md:flex-row items-center  mb-[100px] mar-mob-0",children:[t.jsx("div",{className:"md:w-1/2",children:t.jsx("h1",{className:"mobile-banner-heading text-[60px] fc-white leading-[1.1]",children:"From Vision to Reality"})}),t.jsx("div",{className:"md:w-1/2",children:t.jsx("p",{className:"mobile-banner-para text-[20px] fc-primary leading-relaxed mb-0",children:"Bold concepts. Strategic execution. Lasting impact. We turn vision into realityâ€”so you can lead your industry."})})]}),t.jsx("p",{class:"text-[32px] font-bold fc-secondary leading-tight",children:"Services"}),t.jsx("hr",{class:"border-white mb-8"})]})})]}),t.jsx(T,{})]})}export{A as default};
