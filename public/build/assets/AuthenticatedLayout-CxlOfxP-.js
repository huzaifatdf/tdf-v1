import{q as m,j as r,m as g,r as h}from"./app-tMofAhD1.js";import{o as A,p as E,q as I,r as O,s as v,t as _,u as D,v as w,w as N,x as L,y,z as M,S as B,A as P,F as U,G as C,H as R}from"./toast-exnipb6R.js";function k(){const{url:e}=m(),t=e.split("?")[0].split("#")[0].split("/").filter(Boolean),s={dashboard:"Dashboard",profile:"User Profile",products:"Products",users:"Users",settings:"Settings"},i=t.map((o,n)=>{const S=n===t.length-1,x=`/${t.slice(0,n+1).join("/")}`,j=o.replace(/-/g," ").replace(/\b\w/g,b=>b.toUpperCase());return{title:s[o.toLowerCase()]||j,path:x,isLast:S}});return t.some(o=>o.toLowerCase()==="dashboard")||i.unshift({title:"Dashboard",path:"/dashboard",isLast:!1}),r.jsx(A,{children:r.jsx(E,{children:i.map((o,n)=>r.jsxs("div",{className:"flex items-center gap-1",children:[n>0&&r.jsx(I,{className:"hidden md:block"}),r.jsx(O,{className:n===0?"hidden md:block":"",children:o.isLast?r.jsx(v,{children:o.title}):r.jsx(_,{onClick:()=>g.get(o.path),children:o.title})})]},n))})})}const V=1,q=1e6;let l=0;function F(){return l=(l+1)%Number.MAX_SAFE_INTEGER,l.toString()}const p=new Map,T=e=>{if(p.has(e))return;const a=setTimeout(()=>{p.delete(e),c({type:"REMOVE_TOAST",toastId:e})},q);p.set(e,a)},G=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,V)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(t=>t.id===a.toast.id?{...t,...a.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=a;return t?T(t):e.toasts.forEach(s=>{T(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===t||t===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return a.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(t=>t.id!==a.toastId)}}},d=[];let u={toasts:[]};function c(e){u=G(u,e),d.forEach(a=>{a(u)})}function $({...e}){const a=F(),t=i=>c({type:"UPDATE_TOAST",toast:{...i,id:a}}),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...e,id:a,open:!0,onOpenChange:i=>{i||s()}}}),{id:a,dismiss:s,update:t}}function f(){const[e,a]=h.useState(u);return h.useEffect(()=>(d.push(a),()=>{const t=d.indexOf(a);t>-1&&d.splice(t,1)}),[e]),{...e,toast:$,dismiss:t=>c({type:"DISMISS_TOAST",toastId:t})}}function z(){const{toasts:e}=f();return r.jsxs(D,{children:[e.map(function({id:a,title:t,description:s,action:i,...o}){return r.jsxs(w,{...o,children:[r.jsxs("div",{className:"grid gap-1",children:[t&&r.jsx(N,{children:t}),s&&r.jsx(L,{children:s})]}),i,r.jsx(y,{})]},a)}),r.jsx(M,{})]})}function X({header:e,children:a}){const{auth:t,flash:s}=m().props;m().props.auth.user;const{toast:i}=f();return h.useEffect(()=>{s!=null&&s.success&&i({title:"Success",description:s.success,variant:"default"}),s!=null&&s.error&&i({title:"Error",description:s.error,variant:"destructive"}),s!=null&&s.warning&&i({title:"Warning",description:s.warning,variant:"default"}),s!=null&&s.info&&i({title:"Information",description:s.info,variant:"default"}),s!=null&&s.message&&i({title:"Notification",description:s.message,variant:"default"})},[s,i]),r.jsx("div",{children:r.jsxs(B,{children:[r.jsx(P,{}),r.jsxs(U,{children:[r.jsx("header",{className:"flex h-16 shrink-0 items-center gap-2 transition-[width,height] ease-linear group-has-[[data-collapsible=icon]]/sidebar-wrapper:h-12",children:r.jsxs("div",{className:"flex items-center gap-2 px-4",children:[r.jsx(C,{className:"-ml-1"}),r.jsx(R,{orientation:"vertical",className:"mr-2 h-4"}),r.jsx(k,{})]})}),r.jsx("main",{children:a}),r.jsx(z,{})]})]})})}export{X as A};
