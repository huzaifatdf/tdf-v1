import{q as C,r as n,d as E,j as e,Y as R}from"./app-DS9iEgkx.js";import{g,S as y,W as B}from"./WebsiteLayout-C5eF3jjU.js";import T from"./ClientSlider-R7yNBJPI.js";import{C as j}from"./chevron-down-jFyZ-bCo.js";import"./toaster-C77l87pZ.js";import"./toast-B1VWZHra.js";import"./index-BQ8GBTzU.js";function k(c){return Object.keys(c).map(d=>({key:d.replace(/_\d+$/,""),value:c[d]}))}function I(){const{appUrl:c}=C().props,[d,u]=n.useState([]),[i,h]=n.useState(null),p=n.useRef(null),r=n.useRef({}),m=n.useRef(null),v=n.useRef({}),[o,w]=n.useState([]);n.useEffect(()=>{E.get("/api/v1/case").then(s=>{const t=s.data;console.log(t),u(t);const a=t.map((l,x)=>{const b=JSON.parse(l.data),f=k(b.Service);return{id:String(x+1).padStart(2,"0"),title:l.title,slug:l.slug,subtitle:l.description.length>10?l.description.split(" ").slice(0,10).join(" ")+"...":l.description,mainImage:l.image?`${c}/${l.image}`:"/images/case4.png",features:f.length>0?f.map(N=>{if(N.key==="title")return N.value}).filter(Boolean):[]}});w(a),h(a.length>0?a[0].id:null)}).catch(s=>{console.error("Error fetching case studies:",s)})},[c]),n.useEffect(()=>{if(!i||!m.current||!v.current[i])return;const s=m.current,t=v.current[i];s.getBoundingClientRect();const a=t.getBoundingClientRect(),l=s.clientHeight,x=a.height,f=t.offsetTop-l/2+x/2;s.scrollTo({top:f,behavior:"smooth"})},[i]),n.useEffect(()=>{if(o.length===0)return;const s=[];return o.forEach(t=>{const a=new IntersectionObserver(([x])=>{x.isIntersecting&&h(t.id)},{threshold:.6,rootMargin:"-20% 0px -20% 0px"}),l=r.current[t.id];l&&(a.observe(l),s.push(a))}),()=>{s.forEach(t=>t.disconnect())}},[o]),n.useEffect(()=>{if(o.length===0)return;const s=p.current;s&&(g.registerPlugin(y),g.from(s,{y:50,opacity:0,duration:1,scrollTrigger:{trigger:s,start:"top 80%",end:"bottom center",toggleActions:"play none none reverse"}}))},[o]);const S=s=>{const t=r.current[s];t&&t.scrollIntoView({behavior:"smooth",block:"center"})};return o.find(s=>s.id===i),o.length===0?e.jsx("div",{className:"container-fluid min-h-screen flex items-center justify-center",children:e.jsx("p",{children:"Loading case studies..."})}):e.jsx("section",{ref:p,className:"container-fluid min-h-screen mobile-screens",children:e.jsxs("div",{className:"flex sec-padding pt-0 pb-0",children:[e.jsx("div",{className:"w-1/2 sticky top-0 h-screen flex flex-col justify-center",children:e.jsx("div",{className:"max-w-lg",children:e.jsx("nav",{ref:m,className:"space-y-8 pl-6 h-[550px] overflow-y-auto custom-scrollbar custom-mobile-height",style:{direction:"rtl"},children:o.map(s=>e.jsxs("div",{ref:t=>v.current[s.id]=t,className:"relative group",style:{direction:"ltr"},children:[e.jsxs("button",{onClick:()=>S(s.id),className:`text-left w-full transition-all duration-500 ${i===s.id?"opacity-100":"hover:opacity-70"}`,children:[e.jsx("h5",{className:`text-[18px] mb-0 transition-all duration-500 ${i===s.id?"fc-purple":"fc-white"}`,children:s.id}),e.jsx("h3",{className:`text-[20px] transition-all duration-500 ${i===s.id?"fc-secondary":"fc-white"}`,children:s.title})]}),i===s.id&&e.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-10 bg-[#9BE500] transition-all duration-500"})]},s.id))})})}),e.jsx("div",{className:"w-1/2",children:o.map(s=>e.jsx("div",{ref:t=>r.current[s.id]=t,className:"min-h-screen flex items-center",children:e.jsxs("div",{className:"animate-fadeIn",children:[e.jsx("img",{src:s.mainImage,alt:`${s.title} main image`,className:"w-full h-auto mb-6"}),e.jsx("h2",{className:"text-[26px] fc-secondary mb-2",children:s.title}),e.jsx("p",{className:"text-[20px] fc-primary mb-3 leading-relaxed",children:s.subtitle}),e.jsx("div",{className:"mb-10",children:s.features.map((t,a)=>a>=3?a===3?e.jsx("div",{className:"flex items-start",children:e.jsx("span",{className:"fc-primary text-[18px] leading-relaxed mt-2",children:"and more..."})},a):null:e.jsx("div",{className:"flex items-start",children:e.jsx("span",{className:"fc-primary text-[18px] leading-relaxed",children:t})},a))}),e.jsxs(R,{className:"group flex items-center gap-2 bg-transparent border-none fc-primary transition-colors duration-300 text-lg font-medium cursor-pointer",href:route("casestudy.show",s.slug),onBefore:()=>window.scrollTo(0,0),children:["Read more ",e.jsx("span",{className:"fc-purple group-hover:translate-x-1 transition-transform",children:"→"})]}),e.jsx("hr",{className:"border-white mb-8"})]})},s.id))})]})})}g.registerPlugin(y);function P(c){const d=n.useRef(null),{casestudies:u}=c;return n.useEffect(()=>{const i=d.current;g.from(i,{y:50,opacity:0,duration:1,scrollTrigger:{trigger:i,start:"top 80%",end:"bottom center",toggleActions:"play none none reverse"}})},[]),e.jsxs(B,{title:"Case Studies | TDF Agency",description:"Explore our portfolio of successful digital transformations and client success stories.",children:[e.jsx("section",{ref:d,className:"banner-inner-page min-h-[40vh] flex items-center relative overflow-hidden",children:e.jsx("div",{className:"container-fluid relative mt-[100px] mb-[30px]",children:e.jsx("div",{className:"",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[e.jsx("div",{className:"md:w-1/2",children:e.jsx("h1",{className:"mobile-banner-heading text-[60px] fc-secondary leading-tight mb-0",children:"Behind the Work"})}),e.jsx("div",{className:"md:w-1/2",children:e.jsx("p",{className:"mobile-banner-para text-[20px] fc-primary leading-relaxed mb-0",children:"Bold concepts. Strategic execution. Lasting impact. We turn vision into reality—so you can lead your industry."})})]})})})}),e.jsx(z,{}),e.jsx(I,{}),e.jsx(T,{})]})}const D=["Finance","Healthcare","Education","Retail"],A=["Consulting","Development","Marketing","Support"],$=["Alpha","Beta","Gamma","Delta"];function z(){const[c,d]=n.useState(null),[u,i]=n.useState(""),h=r=>{d(m=>m===r?null:r)},p=r=>r.filter(m=>m.toLowerCase().includes(u.toLowerCase()));return e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"text-white flex items-center justify-between border-t border-b border-[#91A7BA] relative px-4 py-2 bg-dark-950",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:text-[#9BE500] transition-colors select-none",onClick:()=>h("industries"),children:[e.jsx("span",{children:"Select Industries"}),e.jsx(j,{size:16})]}),c==="industries"&&e.jsx("ul",{className:"absolute z-20 mt-2 w-40 max-h-48 overflow-auto rounded bg-gray-800 text-white shadow-lg p-0",children:p(D).map(r=>e.jsx("li",{className:"px-4 py-2 hover:bg-[#9BE500]/30 cursor-pointer",children:r},r))})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:text-[#9BE500] transition-colors select-none",onClick:()=>h("services"),children:[e.jsx("span",{children:"Select Services"}),e.jsx(j,{size:16})]}),c==="services"&&e.jsx("ul",{className:"absolute z-20 mt-2 w-40 max-h-48 overflow-auto rounded bg-gray-800 text-white shadow-lg p-0",children:p(A).map(r=>e.jsx("li",{className:"px-4 py-2 hover:bg-[#9BE500]/30 cursor-pointer",children:r},r))})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:text-[#9BE500] transition-colors select-none",onClick:()=>h("names"),children:[e.jsx("span",{children:"Select by Name"}),e.jsx(j,{size:16})]}),c==="names"&&e.jsx("ul",{className:"absolute z-20 mt-2 w-40 max-h-48 overflow-auto rounded bg-gray-800 text-white shadow-lg p-0",children:p($).map(r=>e.jsx("li",{className:"px-4 py-2 hover:bg-[#9BE500]/30 cursor-pointer",children:r},r))})]})]}),e.jsx("input",{type:"text",placeholder:"Search",value:u,onChange:r=>i(r.target.value),className:"mobilehide bg-transparent border-none outline-none text-white placeholder-gray-400 ml-4 min-w-[180px]"})]})})}export{P as default};
