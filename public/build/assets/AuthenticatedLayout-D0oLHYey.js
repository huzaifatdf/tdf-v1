import{q as m,j as a,m as g,r as h}from"./app-B6EFi1cy.js";import{U as A,W as E,Y as I,Z as O,_,$ as v,a0 as D,a1 as N,a2 as w,a3 as L,a4 as M,a5 as y,a6 as B,a7 as U,a8 as P,a9 as C,aa as R}from"./toast-Cl3J-UOJ.js";function k(){const{url:e}=m(),t=e.split("?")[0].split("#")[0].split("/").filter(Boolean),s={dashboard:"Dashboard",profile:"User Profile",products:"Products",users:"Users",settings:"Settings"},i=t.map((o,n)=>{const S=n===t.length-1,x=`/${t.slice(0,n+1).join("/")}`,j=o.replace(/-/g," ").replace(/\b\w/g,b=>b.toUpperCase());return{title:s[o.toLowerCase()]||j,path:x,isLast:S}});return t.some(o=>o.toLowerCase()==="dashboard")||i.unshift({title:"Dashboard",path:"/dashboard",isLast:!1}),a.jsx(A,{children:a.jsx(E,{children:i.map((o,n)=>a.jsxs("div",{className:"flex items-center gap-1",children:[n>0&&a.jsx(I,{className:"hidden md:block"}),a.jsx(O,{className:n===0?"hidden md:block":"",children:o.isLast?a.jsx(_,{children:o.title}):a.jsx(v,{onClick:()=>g.get(o.path),children:o.title})})]},n))})})}const V=1,$=1e6;let l=0;function W(){return l=(l+1)%Number.MAX_SAFE_INTEGER,l.toString()}const p=new Map,T=e=>{if(p.has(e))return;const r=setTimeout(()=>{p.delete(e),c({type:"REMOVE_TOAST",toastId:e})},$);p.set(e,r)},Y=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,V)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(t=>t.id===r.toast.id?{...t,...r.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=r;return t?T(t):e.toasts.forEach(s=>{T(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===t||t===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return r.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(t=>t.id!==r.toastId)}}},d=[];let u={toasts:[]};function c(e){u=Y(u,e),d.forEach(r=>{r(u)})}function q({...e}){const r=W(),t=i=>c({type:"UPDATE_TOAST",toast:{...i,id:r}}),s=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...e,id:r,open:!0,onOpenChange:i=>{i||s()}}}),{id:r,dismiss:s,update:t}}function f(){const[e,r]=h.useState(u);return h.useEffect(()=>(d.push(r),()=>{const t=d.indexOf(r);t>-1&&d.splice(t,1)}),[e]),{...e,toast:q,dismiss:t=>c({type:"DISMISS_TOAST",toastId:t})}}function F(){const{toasts:e}=f();return a.jsxs(D,{children:[e.map(function({id:r,title:t,description:s,action:i,...o}){return a.jsxs(N,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[t&&a.jsx(w,{children:t}),s&&a.jsx(L,{children:s})]}),i,a.jsx(M,{})]},r)}),a.jsx(y,{})]})}function Z({header:e,children:r}){const{auth:t,flash:s}=m().props;m().props.auth.user;const{toast:i}=f();return h.useEffect(()=>{s!=null&&s.success&&i({title:"Success",description:s.success,variant:"default"}),s!=null&&s.error&&i({title:"Error",description:s.error,variant:"destructive"}),s!=null&&s.warning&&i({title:"Warning",description:s.warning,variant:"default"}),s!=null&&s.info&&i({title:"Information",description:s.info,variant:"default"}),s!=null&&s.message&&i({title:"Notification",description:s.message,variant:"default"})},[s,i]),a.jsx("div",{children:a.jsxs(B,{children:[a.jsx(U,{}),a.jsxs(P,{children:[a.jsx("header",{className:"flex h-16 shrink-0 items-center gap-2 transition-[width,height] ease-linear group-has-[[data-collapsible=icon]]/sidebar-wrapper:h-12",children:a.jsxs("div",{className:"flex items-center gap-2 px-4",children:[a.jsx(C,{className:"-ml-1"}),a.jsx(R,{orientation:"vertical",className:"mr-2 h-4"}),a.jsx(k,{})]})}),a.jsx("main",{children:r}),a.jsx(F,{})]})]})})}export{Z as A};
