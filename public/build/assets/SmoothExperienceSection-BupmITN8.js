import{r as i,J as S,R as g,d as _,j as t,t as v}from"./app-BNHhm83p.js";import{g as j,S as E}from"./WebsiteLayout-BXxtdgdv.js";import{p as T}from"./index-DR56859h.js";import"./index.esm-xb5G0teW.js";import"./toaster-DNz2hCA0.js";import"./toast-Cie9-BTa.js";import"./index-DJRzob_a.js";function w(o){return Object.keys(o).map(m=>({key:m.replace(/_\d+$/,""),value:o[m]}))}function H(){const[o,m]=i.useState("text-to-text"),d=i.useRef(null),f=i.useRef({}),h=i.useRef(null),u=i.useRef({}),{appUrl:p}=S().props,[c,b]=g.useState([]);g.useEffect(()=>{_.get("/api/v1/services").then(e=>{console.log(e.data),b(e.data),e.data.length>0&&m(e.data[0].section_no)}).catch(e=>{console.error(e)})},[]),i.useEffect(()=>{if(!o||!h.current||!u.current[o])return;const e=h.current,r=u.current[o],s=e.clientHeight,a=r.offsetHeight,l=r.offsetTop-s/2+a/2;e.scrollTo({top:l,behavior:"smooth"})},[o]),i.useEffect(()=>{const e=document.querySelector(".container-fluid"),r=()=>{const s=e.scrollTop;let a=c.length>0?c[0].section_no:"01";c.forEach(n=>{const l=f.current[n.section_no];if(l){const{offsetTop:x,offsetHeight:y}=l;s>=x-100&&s<x+y-100&&(a=n.section_no)}}),m(a)};if(e)return e.addEventListener("scroll",r),()=>e.removeEventListener("scroll",r)},[c]),i.useEffect(()=>{if(c.length===0)return;const e=[];return c.forEach(r=>{const s=new IntersectionObserver(([n])=>{n.isIntersecting&&m(r.section_no)},{threshold:.1,rootMargin:"-20% 0px -20% 0px"}),a=f.current[r.section_no];a&&(s.observe(a),e.push(s))}),()=>{e.forEach(r=>r.disconnect())}},[c]),i.useEffect(()=>{if(c.length===0)return;const e=d.current;e&&(j.registerPlugin(E),j.from(e,{y:50,opacity:0,duration:1,scrollTrigger:{trigger:e,start:"top 80%",end:"bottom center",toggleActions:"play none none reverse"}}))},[c]);const N=e=>{const r=f.current[e];r&&r.scrollIntoView({behavior:"smooth",block:"start"})};return c.find(e=>e.section_no===o),t.jsx(t.Fragment,{children:t.jsx("section",{ref:d,className:"container-fluid min-h-screen mobile-screens",children:t.jsxs("div",{className:"flex",children:[t.jsx("div",{className:"w-1/2 sticky top-0 h-screen flex flex-col justify-center",children:t.jsx("div",{className:"max-w-lg",children:t.jsx("nav",{ref:h,className:"space-y-8 pl-6 h-[550px] overflow-y-auto custom-scrollbar custom-mobile-height",style:{direction:"rtl"},children:c.map((e,r)=>t.jsxs("div",{ref:s=>u.current[e.section_no]=s,className:"relative group",children:[t.jsxs("button",{onClick:()=>N(e.section_no),className:`text-left w-full transition-all duration-500 ${o===e.section_no?"opacity-100":"hover:opacity-70"}`,children:[t.jsx("h5",{className:`text-[18px] mb-0 transition-all duration-500 ${o===e.section_no?"fc-purple":"fc-white"}`,children:e.section_no}),t.jsx("h3",{className:`text-[20px] transition-all duration-500 fc-secondary ${o===e.section_no?"fc-secondary":"fc-white"}`,children:e.title})]}),o===e.section_no&&t.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-10 bg-[#9BE500] transition-all duration-500"})]},e.id))})})}),t.jsx("div",{className:"w-1/2",children:c.map((e,r)=>{const s=(e==null?void 0:e.data)&&JSON.parse(e==null?void 0:e.data);let a=[];if(s&&s.techstack)try{const n=s.techstack;a=w(n)}catch(n){console.error("Failed to parse techstack JSON:",n)}return console.log("Titles:",a),t.jsx("div",{ref:n=>f.current[e.section_no]=n,className:"min-h-screen flex items-center border-bottom-case",children:t.jsx("div",{className:"sec-padding --small",children:t.jsxs("div",{className:"animate-fadeIn",children:[t.jsx("img",{src:`${p}/${e.thumbnail}`,alt:`${e.title} main image`,className:"w-full object-cover mb-6"}),t.jsx("h2",{className:"text-[26px] fc-secondary mb-2",children:e.title}),t.jsx("p",{className:"text-[18px] fc-primary leading-relaxed",children:T(e.description)}),a.length>0&&t.jsxs(t.Fragment,{children:[t.jsx("h2",{className:"text-[26px] text-white mt-5 mb-5",children:"Technology Stack"}),t.jsx("div",{className:"tech-logo grid grid-cols-4 gap-10 mt-4 align-items-center",children:a.map((n,l)=>t.jsx("img",{src:`${p}/${n.value}`,className:"",alt:`Tech logo ${l}`},l))})]}),t.jsxs("div",{className:"mt-8",children:[t.jsxs(v,{href:"case-studies",className:"mt-6 group flex items-center gap-2 bg-transparent border-none fc-primary hover:text-[#9747FF] transition-colors duration-300 text-lg font-medium cursor-pointer",children:["Explore Our Work ",t.jsx("span",{className:"fc-purple group-hover:translate-x-1 transition-transform",children:"→"})]}),t.jsxs(v,{href:"industries",className:"mt-2 group flex items-center gap-2 bg-transparent border-none fc-primary hover:text-[#9747FF] transition-colors duration-300 text-lg font-medium cursor-pointer",children:["Industries We Serve ",t.jsx("span",{className:"fc-purple group-hover:translate-x-1 transition-transform",children:"→"})]})]})]})})},e.section_no)})})]})})})}export{H as default};
