import{r as p,j as e,$ as y,m as x}from"./app-Dvg5Uxjd.js";import{A as w}from"./AuthenticatedLayout-Dyp_WEW5.js";import{i as h,B as n,X as S}from"./toast-mVH2yU2s.js";import{T as F}from"./textarea-DesOk8JK.js";import{S as C,a as I,b as P,c as E,d as j}from"./select-_Fsfaqrt.js";import{c as M,g as q,b as m,F as D,d as A,e as c,E as i}from"./index.esm-i5vjNxeY.js";import T from"./Model-BzwEUJ7m.js";import"./createLucideIcon-BmJ47h5u.js";import"./index-C73ml6Ai.js";import"./index-BdRvSdRv.js";import"./chevron-down-OczRoqio.js";import"./alert-CvP4sKhV.js";import"./Modal-JdpZAJsu.js";import"./transition-BRxKCYSe.js";import"./search-BQMjrU4q.js";import"./trash-2-TrQDFpri.js";import"./video-Cwwcl_xm.js";import"./upload-DoDAfVc5.js";import"./download-B5hYoEWT.js";import"./eye-CtbS2CPv.js";function ae(){const[d,l]=p.useState(null),g=M({name:m().required("Name is required").min(2,"Name must be at least 2 characters").max(255,"Name must not exceed 255 characters"),description:m().notRequired().max(1e3,"Description must not exceed 1000 characters"),status:m().required("Status is required").oneOf(["published","draft"],"Invalid status"),priority:q().required("Priority is required").min(0,"Priority must be at least 0").max(9999999,"Priority must not exceed 9999999")}),f=(t,{setSubmitting:a,resetForm:s})=>{const r=new FormData;["name","description","status","priority"].forEach(o=>{r.append(o,t[o])}),t.image&&r.append("image",t.image),x.post(route("ourclient.store"),r,{forceFormData:!0,onSuccess:()=>{a(!1),s(),l(null),setThumbnailPreview(null)},onError:o=>{a(!1)}})},b=(t,a,s)=>{t(a,null),s(null)},v=()=>({title:"",description:"",image:null,thumbnail:null,status:"",priority:0}),[N,u]=p.useState(!1);return e.jsxs(w,{children:[e.jsx(y,{title:"Add ourclient"}),e.jsx("div",{className:"flex flex-1 flex-col",children:e.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2 p-10",children:e.jsx("div",{className:"w-full",children:e.jsx(D,{initialValues:v(),validationSchema:g,onSubmit:f,children:({isSubmitting:t,setFieldValue:a,values:s})=>e.jsxs(A,{className:"space-y-6 bg-white p-6 rounded-lg shadow",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Client name *"}),e.jsx(c,{as:h,id:"name",name:"name",placeholder:"Enter name"}),e.jsx(i,{name:"name",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),e.jsx(c,{as:F,id:"description",name:"description",placeholder:"Enter ourclient description",rows:4}),e.jsx(i,{name:"description",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Status *"}),e.jsxs(C,{name:"status",value:s.status,onValueChange:r=>a("status",r),children:[e.jsx(I,{children:e.jsx(P,{placeholder:"Select status"})}),e.jsxs(E,{children:[e.jsx(j,{value:"published",children:"Published"}),e.jsx(j,{value:"draft",children:"Draft"})]})]}),e.jsx(i,{name:"status",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"priority",className:"text-sm font-medium",children:"Priority (0-100) *"}),e.jsx(c,{as:h,id:"priority",name:"priority",type:"number",min:"0",max:"100",placeholder:"0"}),e.jsx(i,{name:"priority",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"image",className:"text-sm font-medium",children:"ourclient Image"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:[e.jsx("button",{type:"button",onClick:()=>u(!0),children:"Add Media"}),e.jsx(T,{routename:route("ourclient.create"),showModal:N,setShowModal:u,setFieldValue:a,fieldName:"image",setImagePreview:l}),d&&e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:d,alt:"Thumbnail Preview",className:"w-24 h-24 object-cover rounded-lg mx-auto"}),e.jsx(n,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2",onClick:()=>b(a,"image",l),children:e.jsx(S,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(n,{type:"button",variant:"outline",onClick:()=>x.get(route("ourclient.index")),children:"Cancel"}),e.jsx(n,{type:"submit",disabled:t,children:t?"Creating...":"Create client"})]})]})})})})})]})}export{ae as default};
