import{q as V,r as w,j as e,$ as R,m as D}from"./app-C3Oy-wlf.js";import{A as q,E as U}from"./AuthenticatedLayout-B9Te74AJ.js";import{i as m,B as u,t as B,D as H,j as G,k as Q,n as E}from"./toast-DQJaUGf9.js";import{S as P,a as $,b as A,c as z,d as _,C as J}from"./select-NbWNBV1k.js";import{T as b}from"./textarea-BhTl7H7m.js";import{C as K}from"./checkbox-Cz8vRSEp.js";import{c as X,g as Y,h as W,b as j,F as Z,d as ee,e as n,E as d}from"./index.esm-CFN316pS.js";import{D as se,a as te,b as ae,c as le,d as re,e as ie}from"./dialog-CSYmQ6Hs.js";import{T as ce,a as ne,b as F,c as I,G as de}from"./tabs-BAy4gRrq.js";import{c as C}from"./createLucideIcon-Bc_GaoaQ.js";import{F as oe}from"./file-text-vq5JfpxN.js";import{V as me,I as xe}from"./video-BN1iLi2h.js";import{P as he}from"./plus-vMkhA9RH.js";import{E as ue}from"./eye-IWVCMSuk.js";import{C as pe}from"./chevron-down-BL94mWDq.js";import{T as ge}from"./trash-2-DjMmxIV9.js";import"./index-VDyDJhO7.js";import"./index-BvY2dwX7.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],be=C("code",je);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["path",{d:"M15.536 11.293a1 1 0 0 0 0 1.414l2.376 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1uwlt4"}],["path",{d:"M2.297 11.293a1 1 0 0 0 0 1.414l2.377 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414L6.088 8.916a1 1 0 0 0-1.414 0z",key:"10291m"}],["path",{d:"M8.916 17.912a1 1 0 0 0 0 1.415l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.415l-2.377-2.376a1 1 0 0 0-1.414 0z",key:"1tqoq1"}],["path",{d:"M8.916 4.674a1 1 0 0 0 0 1.414l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1x6lto"}]],L=C("component",Ne);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],fe=C("eye-off",ye);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],we=C("table",ve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Ce=C("type",_e),S={text:{icon:Ce,label:"Text",color:"bg-blue-500",description:"Rich text content"},image:{icon:xe,label:"Image",color:"bg-green-500",description:"Image with caption"},video:{icon:me,label:"Video",color:"bg-red-500",description:"Video embed"},html:{icon:be,label:"HTML",color:"bg-purple-500",description:"Custom HTML code"},form:{icon:oe,label:"Form",color:"bg-orange-500",description:"Contact or custom form"},table:{icon:we,label:"Table",color:"bg-cyan-500",description:"Data table"},component:{icon:L,label:"Component",color:"bg-pink-500",description:"Reusable component"},accordion:{icon:B,label:"Accordion",color:"bg-indigo-500",description:"Collapsible content"}},Se=({section:s,onUpdate:N,onDelete:r,onMove:o})=>{const[y,v]=w.useState(!1),[x,f]=w.useState(s.status==="published"),h=S[s.type],k=h.icon,p=t=>{N(s.id,{...s,content:t})},T=()=>{const t=x?"draft":"published";f(!x),N(s.id,{...s,status:t})},i=()=>{switch(s.type){case"text":return e.jsx(b,{value:s.content||"",onChange:t=>p(t.target.value),placeholder:"Enter your text content...",rows:6,className:"font-mono text-sm"});case"image":return e.jsxs("div",{className:"space-y-3",children:[e.jsx(m,{value:s.content||"",onChange:t=>p(t.target.value),placeholder:"https://example.com/image.jpg"}),s.content&&e.jsx("img",{src:s.content,alt:"Preview",className:"max-w-xs rounded border",onError:t=>t.target.style.display="none"})]});case"video":return e.jsx(m,{value:s.content||"",onChange:t=>p(t.target.value),placeholder:"https://youtube.com/watch?v=... or embed code"});case"html":case"form":case"component":return e.jsx(b,{value:s.content||"",onChange:t=>p(t.target.value),placeholder:`Enter your ${s.type} code...`,rows:8,className:"font-mono text-sm"});case"table":return e.jsx(b,{value:s.content||"",onChange:t=>p(t.target.value),placeholder:"Enter table HTML or JSON data...",rows:6,className:"font-mono text-sm"});case"accordion":return e.jsx(b,{value:s.content||"",onChange:t=>p(t.target.value),placeholder:'{"title": "FAQ Item", "content": "Answer content..."}',rows:4,className:"font-mono text-sm"});default:return e.jsx(b,{value:s.content||"",onChange:t=>p(t.target.value),placeholder:"Enter content...",rows:4})}};return e.jsxs("div",{className:"bg-white border rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gray-50",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(de,{className:"w-4 h-4 text-gray-400 cursor-move"}),e.jsx("div",{className:`w-3 h-3 rounded-full ${h.color}`}),e.jsx(k,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:h.label})]}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Priority: ",s.priority]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u,{variant:"ghost",size:"sm",type:"button",onClick:T,className:`${x?"text-green-600":"text-gray-400"}`,children:x?e.jsx(ue,{className:"w-4 h-4"}):e.jsx(fe,{className:"w-4 h-4"})}),e.jsx(u,{variant:"ghost",size:"sm",type:"button",onClick:()=>v(!y),children:y?e.jsx(J,{className:"w-4 h-4"}):e.jsx(pe,{className:"w-4 h-4"})}),e.jsxs(H,{children:[e.jsx(G,{asChild:!0,children:e.jsx(u,{type:"button",variant:"ghost",size:"sm",children:e.jsx(U,{className:"w-4 h-4"})})}),e.jsxs(Q,{children:[e.jsx(E,{onClick:()=>o(s.id,"up"),children:"Move Up"}),e.jsx(E,{onClick:()=>o(s.id,"down"),children:"Move Down"}),e.jsxs(E,{className:"text-red-600",onClick:()=>r(s.id),children:[e.jsx(ge,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})]}),y&&e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Language"}),e.jsxs(P,{value:s.lang,onValueChange:t=>N(s.id,{...s,lang:t}),children:[e.jsx($,{children:e.jsx(A,{})}),e.jsxs(z,{children:[e.jsx(_,{value:"en",children:"English"}),e.jsx(_,{value:"ur",children:"Urdu"}),e.jsx(_,{value:"ar",children:"Arabic"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Priority"}),e.jsx(m,{type:"number",value:s.priority,onChange:t=>N(s.id,{...s,priority:parseInt(t.target.value)||0}),min:"0",max:"100"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Content"}),i()]})]})]})},M=({onAdd:s})=>{const[N,r]=w.useState(!1),[o,y]=w.useState(""),v=()=>{o&&(s(o),y(""),r(!1))};return e.jsxs(se,{open:N,onOpenChange:r,children:[e.jsx(te,{asChild:!0,children:e.jsxs(u,{type:"button",className:"w-full",variant:"outline",children:[e.jsx(he,{className:"w-4 h-4 mr-2"}),"Add Section"]})}),e.jsxs(ae,{className:"max-w-2xl",children:[e.jsxs(le,{children:[e.jsx(re,{children:"Add New Section"}),e.jsx(ie,{children:"Choose the type of content section you want to add to your page."})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3 mt-4",children:Object.entries(S).map(([x,f])=>{const h=f.icon;return e.jsx("button",{onClick:()=>y(x),className:`p-4 rounded-lg border-2 transition-all hover:shadow-md ${o===x?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg ${f.color} flex items-center justify-center`,children:e.jsx(h,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium text-gray-900",children:f.label}),e.jsx("div",{className:"text-sm text-gray-500",children:f.description})]})]})},x)})}),e.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[e.jsx(u,{variant:"outline",type:"button",onClick:()=>r(!1),children:"Cancel"}),e.jsx(u,{type:"button",onClick:v,disabled:!o,children:"Add Section"})]})]})]})};function He(){const{page:s,sections:N=[]}=V().props,[r,o]=w.useState(N),[y,v]=w.useState("content"),x=X({title:j().required("Title is required").min(2,"Title must be at least 2 characters"),slug:j().required("Slug is required").matches(/^[a-z0-9-]+$/,"Slug can only contain lowercase letters, numbers, and hyphens"),description:j(),meta_title:j(),meta_description:j(),meta_keywords:j(),canonical_url:j().url("Must be a valid URL"),redirect_url:j().url("Must be a valid URL"),status:j().required("Status is required"),priority:W().min(0),show_in_sitemap:Y()}),f=(i,{setSubmitting:t,resetForm:c})=>{const a={...i,show_in_sitemap:i.show_in_sitemap?1:0,sections:r,_method:"PUT"};D.post(route("page.update",s.id),a,{onSuccess:()=>{t(!1)},onError:l=>{t(!1)}})},h=i=>{const t={id:Date.now(),type:i,lang:"en",content:"",status:"draft",priority:r.length,isNew:!0};o([...r,t])},k=(i,t)=>{o(c=>c.map(a=>a.id===i?t:a))},p=i=>{o(t=>t.filter(c=>c.id!==i))},T=(i,t)=>{const c=r.findIndex(g=>g.id===i);if(c===-1)return;const a=[...r],l=t==="up"?c-1:c+1;l>=0&&l<a.length&&([a[c],a[l]]=[a[l],a[c]],a.forEach((g,O)=>{g.priority=O}),o(a))};return e.jsxs(q,{children:[e.jsx(R,{title:`Edit Page - ${s.title}`}),e.jsx("div",{className:"flex flex-1 flex-col",children:e.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2 p-10",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Page"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Update the page information and content sections."})]}),e.jsx(Z,{initialValues:{image:s.image||"",slug:s.slug||"",title:s.title||"",description:s.description||"",meta_title:s.meta_title||"",meta_description:s.meta_description||"",meta_keywords:s.meta_keywords||"",canonical_url:s.canonical_url||"",redirect_url:s.redirect_url||"",customscript:s.customscript||"",customstyle:s.customstyle||"",status:s.status||"draft",priority:s.priority||0,show_in_sitemap:s.show_in_sitemap===1||s.show_in_sitemap===!0},validationSchema:x,onSubmit:f,enableReinitialize:!0,children:({isSubmitting:i,setFieldValue:t,values:c})=>e.jsx(ee,{className:"space-y-6",children:e.jsxs(ce,{value:y,onValueChange:v,className:"w-full",children:[e.jsxs(ne,{className:"grid w-full grid-cols-2",children:[e.jsx(F,{value:"content",children:"Page Content"}),e.jsx(F,{value:"builder",children:"Page Builder"})]}),e.jsx(I,{value:"content",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-3 mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),"Basic Information"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter the main page details"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"title",className:"text-sm font-medium text-gray-700",children:"Title *"}),e.jsx(n,{as:m,id:"title",name:"title",placeholder:"Page Title",className:"focus:ring-blue-500 focus:border-blue-500"}),e.jsx(d,{name:"title",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"slug",className:"text-sm font-medium text-gray-700",children:"Slug *"}),e.jsx(n,{as:m,id:"slug",name:"slug",placeholder:"page-slug",className:"focus:ring-blue-500 focus:border-blue-500"}),e.jsx(d,{name:"slug",component:"div",className:"text-red-500 text-sm"})]})]}),e.jsxs("div",{className:"grid gap-2 mt-4",children:[e.jsx("label",{htmlFor:"description",className:"text-sm font-medium text-gray-700",children:"Description"}),e.jsx(n,{as:b,id:"description",name:"description",placeholder:"Page description...",rows:4,className:"focus:ring-blue-500 focus:border-blue-500"}),e.jsx(d,{name:"description",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2 mt-4",children:[e.jsx("label",{htmlFor:"image",className:"text-sm font-medium text-gray-700",children:"Featured Image URL"}),e.jsx(n,{as:m,id:"image",name:"image",placeholder:"https://example.com/image.jpg",className:"focus:ring-blue-500 focus:border-blue-500"}),e.jsx(d,{name:"image",component:"div",className:"text-red-500 text-sm"})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-3 mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"SEO Settings"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Optimize your page for search engines"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"meta_title",className:"text-sm font-medium text-gray-700",children:"Meta Title"}),e.jsx(n,{as:m,id:"meta_title",name:"meta_title",placeholder:"SEO Title",className:"focus:ring-blue-500 focus:border-blue-500"}),e.jsx(d,{name:"meta_title",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"meta_description",className:"text-sm font-medium text-gray-700",children:"Meta Description"}),e.jsx(n,{as:b,id:"meta_description",name:"meta_description",placeholder:"SEO Description",rows:3,className:"focus:ring-blue-500 focus:border-blue-500"}),e.jsx(d,{name:"meta_description",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"meta_keywords",className:"text-sm font-medium text-gray-700",children:"Meta Keywords"}),e.jsx(n,{as:m,id:"meta_keywords",name:"meta_keywords",placeholder:"keyword1, keyword2, keyword3",className:"focus:ring-blue-500 focus:border-blue-500"}),e.jsx(d,{name:"meta_keywords",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"canonical_url",className:"text-sm font-medium text-gray-700",children:"Canonical URL"}),e.jsx(n,{as:m,id:"canonical_url",name:"canonical_url",placeholder:"https://example.com/canonical-url",className:"focus:ring-blue-500 focus:border-blue-500"}),e.jsx(d,{name:"canonical_url",component:"div",className:"text-red-500 text-sm"})]})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-3 mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Advanced Settings"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Custom scripts, styles and redirects"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"redirect_url",className:"text-sm font-medium text-gray-700",children:"Redirect URL"}),e.jsx(n,{as:m,id:"redirect_url",name:"redirect_url",placeholder:"https://example.com/redirect-to",className:"focus:ring-blue-500 focus:border-blue-500"}),e.jsx(d,{name:"redirect_url",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"customscript",className:"text-sm font-medium text-gray-700",children:"Custom Scripts"}),e.jsx(n,{as:b,id:"customscript",name:"customscript",placeholder:"<script>...<\/script>",rows:4,className:"focus:ring-blue-500 focus:border-blue-500 font-mono text-sm"}),e.jsx(d,{name:"customscript",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"customstyle",className:"text-sm font-medium text-gray-700",children:"Custom Styles"}),e.jsx(n,{as:b,id:"customstyle",name:"customstyle",placeholder:"<style>...</style>",rows:4,className:"focus:ring-blue-500 focus:border-blue-500 font-mono text-sm"}),e.jsx(d,{name:"customstyle",component:"div",className:"text-red-500 text-sm"})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-3 mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mr-3"}),"Page Settings"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Configure page status and visibility"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"status",className:"text-sm font-medium text-gray-700",children:"Status *"}),e.jsxs(P,{name:"status",value:c.status,onValueChange:a=>t("status",a),children:[e.jsx($,{className:"focus:ring-blue-500 focus:border-blue-500",children:e.jsx(A,{placeholder:"Select status"})}),e.jsxs(z,{children:[e.jsx(_,{value:"draft",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-2"}),"Draft"]})}),e.jsx(_,{value:"published",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Published"]})})]})]}),e.jsx(d,{name:"status",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"priority",className:"text-sm font-medium text-gray-700",children:"Priority"}),e.jsx(n,{as:m,id:"priority",name:"priority",type:"number",min:"0",max:"10",placeholder:"5",className:"focus:ring-blue-500 focus:border-blue-500"}),e.jsx(d,{name:"priority",component:"div",className:"text-red-500 text-sm"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Higher numbers = higher priority (0-10)"})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(n,{name:"show_in_sitemap",children:({field:a})=>e.jsx(K,{id:"show_in_sitemap",checked:c.show_in_sitemap,onCheckedChange:l=>t("show_in_sitemap",l),className:"focus:ring-blue-500"})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"show_in_sitemap",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"Show in Sitemap"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Include this page in the XML sitemap"})]})]})]})]}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow border",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(u,{type:"submit",disabled:i,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",size:"lg",children:i?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating..."]}):"Update Page"}),e.jsx(u,{type:"button",variant:"outline",onClick:()=>D.get(route("page.index")),className:"w-full",size:"lg",children:"Cancel"})]})})]})]})}),e.jsx(I,{value:"builder",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-3 space-y-4",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-3 mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),"Page Sections"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Build your page content with drag-and-drop sections"})]}),r.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("div",{className:"mx-auto w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx(L,{className:"w-6 h-6 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No sections yet"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Start building your page by adding content sections."}),e.jsx(M,{onAdd:h})]}):e.jsxs("div",{className:"space-y-4",children:[r.sort((a,l)=>a.priority-l.priority).map(a=>e.jsx(Se,{section:a,onUpdate:k,onDelete:p,onMove:T},a.id)),e.jsx("div",{className:"pt-4",children:e.jsx(M,{onAdd:h})})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-3 mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Quick Add"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Add sections quickly"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(S).slice(0,4).map(([a,l])=>{const g=l.icon;return e.jsx("button",{type:"button",onClick:()=>h(a),className:"p-3 rounded-lg border hover:border-blue-300 hover:bg-blue-50 transition-colors",children:e.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[e.jsx("div",{className:`w-6 h-6 rounded ${l.color} flex items-center justify-center`,children:e.jsx(g,{className:"w-3 h-3 text-white"})}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:l.label})]})},a)})}),e.jsx("div",{className:"mt-4",children:e.jsx(M,{onAdd:h})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border",children:[e.jsx("div",{className:"border-b border-gray-200 pb-3 mb-4",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Statistics"]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Total Sections:"}),e.jsx("span",{className:"font-medium",children:r.length})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Published:"}),e.jsx("span",{className:"font-medium text-green-600",children:r.filter(a=>a.status==="published").length})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Draft:"}),e.jsx("span",{className:"font-medium text-yellow-600",children:r.filter(a=>a.status==="draft").length})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Section Types"}),e.jsx("div",{className:"space-y-2",children:Object.entries(r.reduce((a,l)=>(a[l.type]=(a[l.type]||0)+1,a),{})).map(([a,l])=>{const g=S[a];return g?e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${g.color}`}),e.jsx("span",{className:"text-gray-600",children:g.label})]}),e.jsx("span",{className:"font-medium",children:l})]},a):null})})]})]}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow border",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(u,{type:"submit",disabled:i,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",size:"lg",children:i?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Save Page & Sections"}),e.jsx(u,{type:"button",variant:"outline",onClick:()=>v("content"),className:"w-full",size:"lg",children:"Back to Content"})]})})]})]})})]})})})]})})})]})}export{He as default};
