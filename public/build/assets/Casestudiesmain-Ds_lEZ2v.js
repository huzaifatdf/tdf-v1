import{q as w,r as i,d as S,j as e,Y as E}from"./app-DHNVnDuY.js";import{g as x,S as j,W as C}from"./WebsiteLayout-BQW4dLD8.js";import{C as f}from"./chevron-down-BPzG6OdM.js";import"./createLucideIcon-BbMqJsTj.js";function k(n){return Object.keys(n).map(d=>({key:d.replace(/_\d+$/,""),value:n[d]}))}function B(){const{appUrl:n}=w().props,[d,m]=i.useState([]),[o,u]=i.useState(null),h=i.useRef(null),t=i.useRef({}),[a,b]=i.useState([]);i.useEffect(()=>{S.get("/api/v1/case").then(s=>{const r=s.data;console.log(r),m(r);const l=r.map((c,p)=>{const y=JSON.parse(c.data),g=k(y.Service);return{id:String(p+1).padStart(2,"0"),title:c.title,slug:c.slug,subtitle:c.description.length>10?c.description.split(" ").slice(0,10).join(" ")+"...":c.description,mainImage:c.image?`${n}/${c.image}`:"/images/case4.png",features:g.length>0?g.map(v=>{if(v.key==="title")return v.value}):[]}});b(l),u(l.length>0?l[0].id:null)}).catch(s=>{console.error("Error fetching case studies:",s)})},[n]),i.useEffect(()=>{if(a.length===0)return;const s=[];return a.forEach(r=>{const l=new IntersectionObserver(([p])=>{p.isIntersecting&&u(r.id)},{threshold:.6,rootMargin:"-20% 0px -20% 0px"}),c=t.current[r.id];c&&(l.observe(c),s.push(l))}),()=>{s.forEach(r=>r.disconnect())}},[a]),i.useEffect(()=>{if(a.length===0)return;const s=h.current;s&&(x.registerPlugin(j),x.from(s,{y:50,opacity:0,duration:1,scrollTrigger:{trigger:s,start:"top 80%",end:"bottom center",toggleActions:"play none none reverse"}}))},[a]);const N=s=>{const r=t.current[s];r&&r.scrollIntoView({behavior:"smooth",block:"center"})};return a.find(s=>s.id===o),a.length===0?e.jsx("div",{className:"container-fluid min-h-screen flex items-center justify-center",children:e.jsx("p",{children:"Loading case studies..."})}):e.jsx("section",{ref:h,className:"container-fluid min-h-screen",children:e.jsxs("div",{className:"flex sec-padding pt-0",children:[e.jsx("div",{className:"w-1/2 sticky top-0 h-screen flex flex-col justify-center",children:e.jsx("div",{className:"max-w-lg",children:e.jsx("nav",{className:"space-y-8 pl-6 h-[650px] overflow-y-auto custom-scrollbar custom-mobile-height",style:{direction:"rtl"},children:a.map(s=>e.jsxs("div",{className:"relative group",style:{direction:"ltr"},children:[e.jsxs("button",{onClick:()=>N(s.id),className:`text-left w-full transition-all duration-500 ${o===s.id?"opacity-100":"hover:opacity-70"}`,children:[e.jsx("h5",{className:`text-[18px] mb-0 transition-all duration-500 ${o===s.id?"fc-secondary":"fc-white"}`,children:s.id}),e.jsx("h3",{className:`text-[20px] transition-all duration-500 ${o===s.id?"fc-secondary":"fc-white"}`,children:s.title})]}),o===s.id&&e.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-10 bg-[#9BE500] transition-all duration-500"})]},s.id))})})}),e.jsx("div",{className:"w-1/2",children:a.map(s=>e.jsx("div",{ref:r=>t.current[s.id]=r,className:"min-h-screen flex items-center",children:e.jsxs("div",{className:"animate-fadeIn",children:[e.jsx("img",{src:s.mainImage,alt:`${s.title} main image`,className:"w-full h-auto mb-6"}),e.jsx("p",{className:"text-[18px] fc-primary mb-4 leading-relaxed",children:s.subtitle}),e.jsx("div",{className:"mb-10",children:s.features.map((r,l)=>l>=3?l===3?e.jsx("div",{className:"flex items-start",children:e.jsx("span",{className:"fc-primary text-[18px] leading-relaxed mt-2",children:"and more..."})},l):null:e.jsx("div",{className:"flex items-start",children:e.jsx("span",{className:"fc-primary text-[16px] leading-relaxed",children:r})},l))}),e.jsxs(E,{className:"group flex items-center gap-2 bg-transparent border-none fc-primary transition-colors duration-300 text-lg font-medium cursor-pointer",href:route("casestudy.show",s.slug),children:["Read more ",e.jsx("span",{className:"fc-purple group-hover:translate-x-1 transition-transform",children:"→"})]})]})},s.id))})]})})}x.registerPlugin(j);function L(n){const d=i.useRef(null),{casestudies:m}=n;return i.useEffect(()=>{const o=d.current;x.from(o,{y:50,opacity:0,duration:1,scrollTrigger:{trigger:o,start:"top 80%",end:"bottom center",toggleActions:"play none none reverse"}})},[]),e.jsxs(C,{title:"Case Studies | TDF Agency",description:"Explore our portfolio of successful digital transformations and client success stories.",children:[e.jsxs("section",{ref:d,className:"min-h-[40vh] flex items-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-50"}),e.jsx("div",{className:"container-fluid relative mt-[100px] mb-[30px]",children:e.jsx("div",{className:"",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[e.jsx("div",{className:"md:w-1/2",children:e.jsx("h1",{className:"mobile-banner-heading text-[50px] fc-white leading-tight mb-0",children:"Behind the Work"})}),e.jsx("div",{className:"md:w-1/2",children:e.jsx("p",{className:"mobile-banner-para text-[16px] fc-primary leading-relaxed mb-0",children:"Bold concepts. Strategic execution. Lasting impact. We turn vision into reality—so you can lead your industry."})})]})})})]}),e.jsx(T,{}),e.jsx(B,{})]})}const D=["Finance","Healthcare","Education","Retail"],R=["Consulting","Development","Marketing","Support"],A=["Alpha","Beta","Gamma","Delta"];function T(){const[n,d]=i.useState(null),[m,o]=i.useState(""),u=t=>{d(a=>a===t?null:t)},h=t=>t.filter(a=>a.toLowerCase().includes(m.toLowerCase()));return e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"text-white flex items-center justify-between border-t border-b border-[#91A7BA] relative px-4 py-2 bg-dark-950",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:text-[#9BE500] transition-colors select-none",onClick:()=>u("industries"),children:[e.jsx("span",{children:"Select Industries"}),e.jsx(f,{size:16})]}),n==="industries"&&e.jsx("ul",{className:"absolute z-20 mt-2 w-40 max-h-48 overflow-auto rounded bg-gray-800 text-white shadow-lg p-0",children:h(D).map(t=>e.jsx("li",{className:"px-4 py-2 hover:bg-[#9BE500]/30 cursor-pointer",children:t},t))})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:text-[#9BE500] transition-colors select-none",onClick:()=>u("services"),children:[e.jsx("span",{children:"Select Services"}),e.jsx(f,{size:16})]}),n==="services"&&e.jsx("ul",{className:"absolute z-20 mt-2 w-40 max-h-48 overflow-auto rounded bg-gray-800 text-white shadow-lg p-0",children:h(R).map(t=>e.jsx("li",{className:"px-4 py-2 hover:bg-[#9BE500]/30 cursor-pointer",children:t},t))})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:text-[#9BE500] transition-colors select-none",onClick:()=>u("names"),children:[e.jsx("span",{children:"Select by Name"}),e.jsx(f,{size:16})]}),n==="names"&&e.jsx("ul",{className:"absolute z-20 mt-2 w-40 max-h-48 overflow-auto rounded bg-gray-800 text-white shadow-lg p-0",children:h(A).map(t=>e.jsx("li",{className:"px-4 py-2 hover:bg-[#9BE500]/30 cursor-pointer",children:t},t))})]})]}),e.jsx("input",{type:"text",placeholder:"Search",value:m,onChange:t=>o(t.target.value),className:"bg-transparent border-none outline-none text-white placeholder-gray-400 ml-4 min-w-[180px]"})]})})}export{L as default};
