import{q as w,r as n,j as e,$ as E,m as h}from"./app-MbCSXK-J.js";import{A as F}from"./AuthenticatedLayout-Cfz_8F3J.js";import{I as j,B as m}from"./breadcrumb-baktW1Ug.js";import{T as M}from"./textarea-McTo1mbo.js";import{S as I,a as P,b as q,c as C,d as g}from"./select-dO3Y3FLG.js";import{c as L,a as U,b as d,F as D,d as T,e as c,E as o}from"./index.esm-BF6NI5I0.js";import $ from"./Model-BQuR3Z5E.js";import{X as R}from"./toast-pOS2EjgE.js";import"./toaster-CQBadN4d.js";import"./index-DNVzi7XT.js";import"./index-Cs9GEdhh.js";import"./chevron-down-DYLpDeVE.js";import"./alert-BSjbSiWk.js";import"./Modal-0LpN_a2X.js";import"./transition-Dqw7CJAf.js";import"./search-CfRCxKS_.js";import"./trash-2-Bh3KIcGJ.js";import"./video-B72L5bOs.js";import"./upload-Cp3gOPe9.js";import"./download-DuyI5LXm.js";import"./eye-BOsKAA2g.js";function le(){const{ourclient:t,appUrl:f}=w().props,[r,u]=n.useState(f+"/"+t.image||null),b=L({name:d().required("Name is required").min(2,"Name must be at least 2 characters").max(255,"Name must not exceed 255 characters"),description:d().notRequired().max(1e3,"Description must not exceed 1000 characters"),status:d().required("Status is required").oneOf(["published","draft"],"Invalid status"),priority:U().required("Priority is required").min(0,"Priority must be at least 0").max(100,"Priority must not exceed 100")}),N=(a,{setSubmitting:s})=>{const i=new FormData;["name","description","status","priority"].forEach(l=>{i.append(l,a[l])}),i.append("image",a.image),i.append("_method","PUT"),h.post(route("ourclient.update",t.id),i,{forceFormData:!0,onSuccess:()=>{s(!1)},onError:l=>{s(!1)}})},v=(a,s,i)=>{a(s,null),i(null)},y=()=>({name:t.name||"",description:t.description||"",image:t.image||null,status:t.status||"",priority:t.priority||0}),[S,p]=n.useState(!1),[V,k]=n.useState(!1);return e.jsxs(F,{children:[e.jsx(E,{title:`Edit ourclient - ${t.name}`}),e.jsx("div",{className:"flex flex-1 flex-col",children:e.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2 p-10",children:e.jsx("div",{className:"w-full",children:e.jsx(D,{initialValues:y(),validationSchema:b,onSubmit:N,children:({isSubmitting:a,setFieldValue:s,values:i})=>e.jsxs(T,{className:"space-y-6 bg-white p-6 rounded-lg shadow",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit ourclient"}),e.jsx("p",{className:"text-gray-600",children:"Update ourclient information"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Client Name *"}),e.jsx(c,{as:j,id:"name",name:"name",placeholder:"Enter name"}),e.jsx(o,{name:"name",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),e.jsx(c,{as:M,id:"description",name:"description",placeholder:"Enter ourclient description",rows:4}),e.jsx(o,{name:"description",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Status *"}),e.jsxs(I,{name:"status",value:i.status,onValueChange:x=>s("status",x),children:[e.jsx(P,{children:e.jsx(q,{placeholder:"Select status"})}),e.jsxs(C,{children:[e.jsx(g,{value:"published",children:"Published"}),e.jsx(g,{value:"draft",children:"Draft"})]})]}),e.jsx(o,{name:"status",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"priority",className:"text-sm font-medium",children:"Priority (0-100) *"}),e.jsx(c,{as:j,id:"priority",name:"priority",type:"number",min:"0",max:"100",placeholder:"0"}),e.jsx(o,{name:"priority",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"image",className:"text-sm font-medium",children:"ourclient Image"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:[e.jsx("button",{type:"button",onClick:()=>p(!0),children:r?"Change Media":"Add Media"}),e.jsx($,{routename:route("ourclient.edit",t.id),showModal:S,setShowModal:p,setFieldValue:s,fieldName:"image",setImagePreview:u}),r&&e.jsxs("div",{className:"relative mt-4",children:[e.jsx("img",{src:typeof r=="string"?r:URL.createObjectURL(r),alt:"ourclient Preview",className:"w-24 h-24 object-cover rounded-lg mx-auto"}),e.jsx(m,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2",onClick:()=>v(s,"image",u),children:e.jsx(R,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(m,{type:"button",variant:"outline",onClick:()=>h.get(route("ourclient.index")),children:"Cancel"}),e.jsx(m,{type:"submit",disabled:a,children:a?"Updating...":"Update client"})]})]})})})})})]})}export{le as default};
