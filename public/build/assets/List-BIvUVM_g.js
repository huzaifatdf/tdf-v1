import{q as k,r as d,j as e,$ as v,m}from"./app-BvfNynCH.js";import"./alert-DMqQefj2.js";import{A as _,B as p,U as C}from"./AuthenticatedLayout-CNLh7Ulr.js";import{f as o,X as S}from"./toast-CAPr_Rjv.js";import{n as A,C as E}from"./breadcrumb-B6gA-Lqi.js";import{T}from"./trash-2-ZHp_RWLq.js";import"./toaster-Bu4ov5Yk.js";import"./index-D5Bzigdy.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],R=o("check-check",$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],q=o("chevron-left",M);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],P=o("circle-alert",L);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],B=o("circle-check-big",O);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],F=o("info",D),ee=({notifications:t,stats:a,filters:c})=>{const{props:X}=k(),[x,u]=d.useState(t.data||[]),[g,I]=d.useState((c==null?void 0:c.filter)||"all"),[b,K]=d.useState((c==null?void 0:c.search)||""),[U,z]=d.useState(t.current_page||1),[h,n]=d.useState(!1),j=s=>{switch(s){case"success":return e.jsx(B,{className:"w-4 h-4 text-green-500"});case"warning":return e.jsx(P,{className:"w-4 h-4 text-yellow-500"});case"error":return e.jsx(S,{className:"w-4 h-4 text-red-500"});default:return e.jsx(F,{className:"w-4 h-4 text-blue-500"})}},y=s=>{switch(s){case"success":return"border-l-green-500";case"warning":return"border-l-yellow-500";case"error":return"border-l-red-500";default:return"border-l-blue-500"}},f=async s=>{try{n(!0),(await fetch(route("notifications.mark-read",s),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}})).ok&&(u(x.map(r=>r.id===s?{...r,read:!0}:r)),m.reload())}catch(l){console.error("Error marking notification as read:",l)}finally{n(!1)}},N=async()=>{try{n(!0),(await fetch(route("notifications.mark-all-read"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}})).ok&&m.reload()}catch(s){console.error("Error marking all notifications as read:",s)}finally{n(!1)}},w=async s=>{try{n(!0),(await fetch(route("notifications.delete",s),{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}})).ok&&(u(x.filter(r=>r.id!==s)),m.reload())}catch(l){console.error("Error deleting notification:",l)}finally{n(!1)}},i=s=>{m.get(route("notifications.index"),{filter:g,search:b,page:s},{preserveState:!0,preserveScroll:!0})};return e.jsxs(_,{children:[e.jsx(v,{title:"Notifications"}),e.jsx("div",{className:"min-h-screen p-6",children:e.jsxs("div",{className:" mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(p,{className:"w-8 h-8 text-slate-700"}),(a==null?void 0:a.unread)>0&&e.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center animate-pulse",children:a.unread})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Notifications"}),e.jsx("p",{className:"text-slate-600",children:"Stay updated with your latest activities"})]})]}),(a==null?void 0:a.unread)>0&&e.jsxs("button",{onClick:N,disabled:h,className:"flex items-center space-x-2 bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all duration-200 transform hover:scale-105 disabled:opacity-50",children:[e.jsx(R,{className:"w-4 h-4"}),e.jsx("span",{children:"Mark All Read"})]})]})}),e.jsx("div",{className:"space-y-3 mb-6",children:x.length===0?e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-8 text-center border border-white/20",children:[e.jsx(p,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"No notifications found"}),e.jsx("p",{className:"text-slate-500",children:"Try adjusting your search or filter criteria"})]}):x.map(s=>e.jsx("div",{className:`backdrop-blur-sm rounded-xl border-l-4 ${y(s.type)} border-r border-t border-b p-4 transition-all duration-200 hover:shadow-lg ${s.read?"bg-white/70 border-white/20 opacity-75":"bg-gray-50/90 border-white/40 shadow-lg ring-2 ring-blue-100/50"} hover:bg-white/80`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:j(s.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h3",{className:`font-semibold ${s.read?"text-slate-600":"text-slate-900"}`,children:s.title}),!s.read&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-gray-500 text-white rounded-full animate-pulse",children:"NEW"})]}),e.jsx("p",{className:`text-sm mb-2 ${s.read?"text-slate-600":"text-slate-800 font-medium"}`,children:s.message}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-slate-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(C,{className:"w-3 h-3"}),e.jsx("span",{children:s.user})]}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:s.time})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.read?e.jsx("span",{className:"text-xs text-slate-500 bg-slate-100 px-2 py-1 rounded-full",children:"READ"}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs font-semibold text-black-600 bg-gray-100 px-2 py-1 rounded-full",children:"UNREAD"}),e.jsx("button",{onClick:()=>f(s.id),disabled:h,className:"p-2 text-white bg-black hover:bg-gray-800 rounded-lg transition-colors shadow-md hover:shadow-lg disabled:opacity-50",title:"Mark as read",children:e.jsx(A,{className:"w-4 h-4"})})]}),e.jsx("button",{onClick:()=>w(s.id),disabled:h,className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"Delete notification",children:e.jsx(T,{className:"w-4 h-4"})})]})]})},s.id))}),t.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between bg-white/70 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",t.from||0," to ",t.to||0," of ",t.total||0," notifications"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>i(t.current_page-1),disabled:!t.prev_page_url,className:`p-2 rounded-lg ${t.prev_page_url?"text-slate-600 hover:bg-slate-100":"text-slate-300 cursor-not-allowed"}`,children:e.jsx(q,{className:"w-5 h-5"})}),Array.from({length:Math.min(5,t.last_page)},(s,l)=>{const r=l+Math.max(1,t.current_page-2);return r>t.last_page?null:e.jsx("button",{onClick:()=>i(r),className:`w-10 h-10 flex items-center justify-center rounded-lg ${t.current_page===r?"bg-gray-500 text-white":"text-slate-600 hover:bg-slate-100"}`,children:r},r)}),e.jsx("button",{onClick:()=>i(t.current_page+1),disabled:!t.next_page_url,className:`p-2 rounded-lg ${t.next_page_url?"text-slate-600 hover:bg-slate-100":"text-slate-300 cursor-not-allowed"}`,children:e.jsx(E,{className:"w-5 h-5"})})]})]})]})})]})};export{ee as default};
