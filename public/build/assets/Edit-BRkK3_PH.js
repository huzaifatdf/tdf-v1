import{q as w,r as n,j as e,$ as E,m as h}from"./app-C5Mdab8q.js";import{A as F}from"./AuthenticatedLayout-DOmsQW4I.js";import{I as j,B as m}from"./breadcrumb-BdflrqA3.js";import{T as M}from"./textarea-Dt0SuL4l.js";import{S as I,a as P,b as q,c as C,d as g}from"./select-z1EAp__f.js";import{F as L,a as U,b as c,E as o}from"./formik.esm-CRAqU5Ai.js";import{c as D,a as T,b as d}from"./index.esm-iGQraZ5t.js";import $ from"./Model-DpKOkFun.js";import{X as R}from"./toast-C3cs_Kef.js";import"./toaster-BlgR96RV.js";import"./index-BsY7ETyA.js";import"./index-CRTUh4vm.js";import"./chevron-down-fYzvMeGJ.js";import"./alert-DZT0TXB3.js";import"./Modal-BJiD4ugj.js";import"./transition-BU15vwiw.js";import"./search-CYS6dwV3.js";import"./trash-2-u7NTxBu7.js";import"./video-Dq9SxH6Z.js";import"./upload-Dqe7xUhe.js";import"./download-Ch7sRmbR.js";import"./eye-rtIz7W2P.js";function ne(){const{ourclient:t,appUrl:f}=w().props,[r,p]=n.useState(f+"/"+t.image||null),b=D({name:d().required("Name is required").min(2,"Name must be at least 2 characters").max(255,"Name must not exceed 255 characters"),description:d().notRequired().max(1e3,"Description must not exceed 1000 characters"),status:d().required("Status is required").oneOf(["published","draft"],"Invalid status"),priority:T().required("Priority is required").min(0,"Priority must be at least 0").max(100,"Priority must not exceed 100")}),N=(a,{setSubmitting:s})=>{const i=new FormData;["name","description","status","priority"].forEach(l=>{i.append(l,a[l])}),i.append("image",a.image),i.append("_method","PUT"),h.post(route("ourclient.update",t.id),i,{forceFormData:!0,onSuccess:()=>{s(!1)},onError:l=>{s(!1)}})},v=(a,s,i)=>{a(s,null),i(null)},y=()=>({name:t.name||"",description:t.description||"",image:t.image||null,status:t.status||"",priority:t.priority||0}),[S,u]=n.useState(!1),[V,k]=n.useState(!1);return e.jsxs(F,{children:[e.jsx(E,{title:`Edit ourclient - ${t.name}`}),e.jsx("div",{className:"flex flex-1 flex-col",children:e.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2 p-10",children:e.jsx("div",{className:"w-full",children:e.jsx(L,{initialValues:y(),validationSchema:b,onSubmit:N,children:({isSubmitting:a,setFieldValue:s,values:i})=>e.jsxs(U,{className:"space-y-6 bg-white p-6 rounded-lg shadow",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit ourclient"}),e.jsx("p",{className:"text-gray-600",children:"Update ourclient information"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Client Name *"}),e.jsx(c,{as:j,id:"name",name:"name",placeholder:"Enter name"}),e.jsx(o,{name:"name",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),e.jsx(c,{as:M,id:"description",name:"description",placeholder:"Enter ourclient description",rows:4}),e.jsx(o,{name:"description",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Status *"}),e.jsxs(I,{name:"status",value:i.status,onValueChange:x=>s("status",x),children:[e.jsx(P,{children:e.jsx(q,{placeholder:"Select status"})}),e.jsxs(C,{children:[e.jsx(g,{value:"published",children:"Published"}),e.jsx(g,{value:"draft",children:"Draft"})]})]}),e.jsx(o,{name:"status",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"priority",className:"text-sm font-medium",children:"Priority (0-100) *"}),e.jsx(c,{as:j,id:"priority",name:"priority",type:"number",min:"0",max:"100",placeholder:"0"}),e.jsx(o,{name:"priority",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"image",className:"text-sm font-medium",children:"ourclient Image"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:[e.jsx("button",{type:"button",onClick:()=>u(!0),children:r?"Change Media":"Add Media"}),e.jsx($,{routename:route("ourclient.edit",t.id),showModal:S,setShowModal:u,setFieldValue:s,fieldName:"image",setImagePreview:p}),r&&e.jsxs("div",{className:"relative mt-4",children:[e.jsx("img",{src:typeof r=="string"?r:URL.createObjectURL(r),alt:"ourclient Preview",className:"w-24 h-24 object-cover rounded-lg mx-auto"}),e.jsx(m,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2",onClick:()=>v(s,"image",p),children:e.jsx(R,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(m,{type:"button",variant:"outline",onClick:()=>h.get(route("ourclient.index")),children:"Cancel"}),e.jsx(m,{type:"submit",disabled:a,children:a?"Updating...":"Update client"})]})]})})})})})]})}export{ne as default};
