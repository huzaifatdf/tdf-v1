import{r as l,j as e,t as b,S as x,J as f}from"./app-BWcW2lmq.js";import{o as te,p as W,q as K,r as M,s as m,t as h,C as U,v as ae,w as re,x as ne,y as P,D as k,a as C,z as H,b as w,h as g,A as F,E as q,F as G,g as Q,m as A,G as ie,H as oe,J as le,K as ce,L as de,M as ue,N as he,O as pe,P as xe,Q as me,U as ge,V as je,W as be,X as fe,Y as ye,S as Ne}from"./breadcrumb-C4KJKoN2.js";import{f as c,u as ve,c as ke,P as R,b as Ce,d as we,a as Me,h as Se}from"./toast-CHMWgJ0s.js";import{u as _e,T as Le}from"./toaster-BY1FquE8.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Pe=c("bell",Ae);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],L=c("box",Re);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],X=c("chevrons-up-down",Ee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],V=c("circle-plus",$e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],J=c("ellipsis",De);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=[["line",{x1:"22",x2:"2",y1:"6",y2:"6",key:"15w7dq"}],["line",{x1:"22",x2:"2",y1:"18",y2:"18",key:"1ip48p"}],["line",{x1:"6",x2:"6",y1:"2",y2:"22",key:"a2lnyx"}],["line",{x1:"18",x2:"18",y1:"2",y2:"22",key:"8vb6jd"}]],Oe=c("frame",Te);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=[["path",{d:"M2 3v18",key:"pzttux"}],["rect",{width:"12",height:"18",x:"6",y:"3",rx:"2",key:"btr8bg"}],["path",{d:"M22 3v18",key:"6jf3v"}]],Be=c("gallery-horizontal",Ie);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["path",{d:"M13 13.74a2 2 0 0 1-2 0L2.5 8.87a1 1 0 0 1 0-1.74L11 2.26a2 2 0 0 1 2 0l8.5 4.87a1 1 0 0 1 0 1.74z",key:"15q6uc"}],["path",{d:"m20 14.285 1.5.845a1 1 0 0 1 0 1.74L13 21.74a2 2 0 0 1-2 0l-8.5-4.87a1 1 0 0 1 0-1.74l1.5-.845",key:"byia6g"}]],Ue=c("layers-2",ze);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Fe=c("layout-dashboard",He);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ge=c("log-out",qe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M17 12h.01",key:"1m0b6t"}],["path",{d:"M7 12h.01",key:"eqddd0"}]],Je=c("rectangle-ellipsis",Ve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=[["path",{d:"M16 12H3",key:"1a2rj7"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M21 12h.01",key:"msek7k"}],["path",{d:"M21 18h.01",key:"1e8rq1"}],["path",{d:"M21 6h.01",key:"1koanj"}]],Ke=c("table-of-contents",We);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Xe=c("user",Qe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],Ze=c("users-round",Ye);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ss=c("users",es);var S="Collapsible",[ts,fs]=ke(S),[as,E]=ts(S),Y=l.forwardRef((t,a)=>{const{__scopeCollapsible:n,open:s,defaultOpen:r,disabled:i,onOpenChange:o,...j}=t,[p,u]=ve({prop:s,defaultProp:r??!1,onChange:o,caller:S});return e.jsx(as,{scope:n,disabled:i,contentId:te(),open:p,onOpenToggle:l.useCallback(()=>u(y=>!y),[u]),children:e.jsx(R.div,{"data-state":D(p),"data-disabled":i?"":void 0,...j,ref:a})})});Y.displayName=S;var Z="CollapsibleTrigger",ee=l.forwardRef((t,a)=>{const{__scopeCollapsible:n,...s}=t,r=E(Z,n);return e.jsx(R.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":D(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...s,ref:a,onClick:Ce(t.onClick,r.onOpenToggle)})});ee.displayName=Z;var $="CollapsibleContent",se=l.forwardRef((t,a)=>{const{forceMount:n,...s}=t,r=E($,t.__scopeCollapsible);return e.jsx(we,{present:n||r.open,children:({present:i})=>e.jsx(rs,{...s,ref:a,present:i})})});se.displayName=$;var rs=l.forwardRef((t,a)=>{const{__scopeCollapsible:n,present:s,children:r,...i}=t,o=E($,n),[j,p]=l.useState(s),u=l.useRef(null),y=Me(a,u),N=l.useRef(0),T=N.current,O=l.useRef(0),I=O.current,_=o.open||j,B=l.useRef(_),v=l.useRef(void 0);return l.useEffect(()=>{const d=requestAnimationFrame(()=>B.current=!1);return()=>cancelAnimationFrame(d)},[]),Se(()=>{const d=u.current;if(d){v.current=v.current||{transitionDuration:d.style.transitionDuration,animationName:d.style.animationName},d.style.transitionDuration="0s",d.style.animationName="none";const z=d.getBoundingClientRect();N.current=z.height,O.current=z.width,B.current||(d.style.transitionDuration=v.current.transitionDuration,d.style.animationName=v.current.animationName),p(s)}},[o.open,s]),e.jsx(R.div,{"data-state":D(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!_,...i,ref:y,style:{"--radix-collapsible-content-height":T?`${T}px`:void 0,"--radix-collapsible-content-width":I?`${I}px`:void 0,...t.style},children:_&&r})});function D(t){return t?"open":"closed"}var ns=Y;const is=ns,os=ee,ls=se;function cs({items:t}){return e.jsxs(W,{children:[e.jsx(K,{children:"Platform"}),e.jsx(M,{children:t.map(a=>{var n;return e.jsx(is,{asChild:!0,defaultOpen:a.isActive,className:"group/collapsible",children:e.jsxs(m,{children:[e.jsx(os,{asChild:!0,children:a.url==="#"?e.jsxs(h,{tooltip:a.title,children:[a.icon&&e.jsx(a.icon,{}),e.jsx("span",{children:a.title}),a.items&&a.items.length>0&&e.jsx(U,{className:"ml-auto transition-transform duration-200 group-data-[state=open]/collapsible:rotate-90"})]}):e.jsx(b,{href:a.url,children:e.jsxs(h,{tooltip:a.title,children:[a.icon&&e.jsx(a.icon,{}),e.jsx("span",{children:a.title}),a.items&&a.items.length>0&&e.jsx(U,{className:"ml-auto transition-transform duration-200 group-data-[state=open]/collapsible:rotate-90"})]})})}),e.jsx(ls,{children:e.jsx(ae,{children:(n=a.items)==null?void 0:n.map(s=>e.jsx(re,{children:e.jsx(ne,{asChild:!0,children:e.jsx(b,{href:s.url,children:e.jsx("span",{children:s.title})})})},s.title))})})]})},a.title)})})]})}function ds(){const{isMobile:t}=P();return e.jsxs(W,{className:"group-data-[collapsible=icon]:hidden",children:[e.jsx(K,{children:"Managment"}),e.jsxs(M,{children:[e.jsxs(m,{children:[e.jsx(h,{asChild:!0,children:e.jsxs(b,{href:route("user.index"),children:[e.jsx(ss,{}),e.jsx("span",{children:"Users"})]})}),e.jsxs(k,{children:[e.jsx(C,{asChild:!0,children:e.jsxs(H,{showOnHover:!0,children:[e.jsx(J,{}),e.jsx("span",{className:"sr-only",children:"More"})]})}),e.jsx(w,{className:"w-48 rounded-lg",side:t?"bottom":"right",align:t?"end":"start",children:e.jsxs(g,{onClick:()=>x.get(route("user.create")),className:"cursor-pointer",children:[e.jsx(V,{className:"text-muted-foreground"}),e.jsx("span",{children:"Add"})]})})]})]}),e.jsxs(m,{children:[e.jsx(h,{asChild:!0,children:e.jsxs(b,{href:route("form.index"),children:[e.jsx(Je,{}),e.jsx("span",{children:"Form"})]})}),e.jsxs(k,{children:[e.jsx(C,{asChild:!0,children:e.jsxs(H,{showOnHover:!0,children:[e.jsx(J,{}),e.jsx("span",{className:"sr-only",children:"More"})]})}),e.jsx(w,{className:"w-48 rounded-lg",side:t?"bottom":"right",align:t?"end":"start",children:e.jsxs(g,{onClick:()=>x.get(route("form.create")),className:"cursor-pointer",children:[e.jsx(V,{className:"text-muted-foreground"}),e.jsx("span",{children:"Add"})]})})]})]}),e.jsx(m,{children:e.jsx(h,{asChild:!0,children:e.jsxs(b,{href:route("media.index"),children:[e.jsx(Be,{}),e.jsx("span",{children:"Media"})]})})})]})]})}function us({user:t}){const{isMobile:a}=P();return e.jsx(M,{children:e.jsx(m,{children:e.jsxs(k,{children:[e.jsx(C,{asChild:!0,children:e.jsxs(h,{size:"lg",className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground",children:[e.jsxs(F,{className:"h-8 w-8 rounded-lg",children:[e.jsx(q,{src:t.avatar,alt:t.name}),e.jsx(G,{className:"rounded-lg",children:t.name.slice(0,2).toUpperCase()})]}),e.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[e.jsx("span",{className:"truncate font-semibold",children:t.name}),e.jsx("span",{className:"truncate text-xs",children:t.email})]}),e.jsx(X,{className:"ml-auto size-4"})]})}),e.jsxs(w,{className:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:a?"bottom":"right",align:"end",sideOffset:4,children:[e.jsx(Q,{className:"p-0 font-normal",children:e.jsxs("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:[e.jsxs(F,{className:"h-8 w-8 rounded-lg",children:[e.jsx(q,{src:t.avatar,alt:t.name}),e.jsx(G,{className:"rounded-lg",children:"CN"})]}),e.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[e.jsx("span",{className:"truncate font-semibold",children:t.name}),e.jsx("span",{className:"truncate text-xs",children:t.email})]})]})}),e.jsx(A,{}),e.jsxs(ie,{children:[e.jsxs(g,{className:"cursor-pointer",onClick:()=>{x.get(route("profile.edit"))},children:[e.jsx(Xe,{}),"Profile"]}),e.jsxs(g,{className:"cursor-pointer",onClick:()=>{x.get(route("notifications.index"))},children:[e.jsx(Pe,{}),"Notifications"]})]}),e.jsx(A,{}),e.jsxs(g,{className:"cursor-pointer",onClick:()=>{x.post("/logout")},children:[e.jsx(Ge,{}),"Log out"]})]})]})})})}function hs({teams:t}){const{isMobile:a}=P(),[n,s]=l.useState(t[0]);return n?e.jsx(M,{children:e.jsx(m,{children:e.jsxs(k,{children:[e.jsx(C,{asChild:!0,children:e.jsxs(h,{size:"lg",className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground",children:[e.jsx("div",{className:"flex aspect-square size-8 items-center justify-center rounded-lg bg-sidebar-primary text-sidebar-primary-foreground",children:e.jsx("img",{src:n.logo,className:"size-4"})}),e.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[e.jsx("span",{className:"truncate font-semibold",children:n.name}),e.jsx("span",{className:"truncate text-xs",children:n.plan})]}),e.jsx(X,{className:"ml-auto"})]})}),e.jsxs(w,{className:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",align:"start",side:a?"bottom":"right",sideOffset:4,children:[e.jsx(Q,{className:"text-xs text-muted-foreground",children:"Projects"}),t.map((r,i)=>e.jsxs(g,{onClick:()=>s(r),className:"gap-2 p-2",children:[e.jsx("div",{className:"flex size-6 items-center justify-center rounded-sm border",children:e.jsx("img",{src:n.logo,className:"size-4 shrink-0"})}),r.name]},r.name)),e.jsx(A,{})]})]})})}):null}function ps({...t}){const a=f().props.auth.user,n=f().props.dynamicFormsList,s={teams:[{name:"TDF",logo:"/images/fav/logo2.png",plan:"Enterprise"}],navMain:[{title:"Dashboard",url:"#",icon:Fe,isActive:!0,items:[{title:"Dashboard",url:route("dashboard")}]},{title:"Page",url:"#",icon:Ke,items:[{title:"Add",url:route("page.create")},{title:"List",url:route("page.index")}]},{title:"Services",url:"#",icon:Ue,items:[{title:"Add",url:route("service.create")},{title:"List",url:route("service.index")}]},{title:"Products",url:"#",icon:L,items:[{title:"Add",url:route("product.create")},{title:"List",url:route("product.index")}]},{title:"Case Studies",url:"#",icon:L,items:[{title:"Add",url:route("case.create")},{title:"List",url:route("case.index")}]},{title:"Industries",url:"#",icon:L,items:[{title:"Add",url:route("industry.create")},{title:"List",url:route("industry.index")}]},{title:"Our Clients",url:"#",icon:Ze,items:[{title:"Add",url:route("ourclient.create")},{title:"List",url:route("ourclient.index")}]},...n.length>0?n.map(r=>({title:r.name,url:"#",icon:Oe,items:[{title:"View Form",url:route("form.submission.create",{slug:r.slug})},{title:"Submissions",url:route("form.submission.index",{slug:r.slug})}]})):[]]};return e.jsxs(oe,{collapsible:"icon",...t,children:[e.jsx(le,{children:e.jsx(hs,{teams:s.teams})}),e.jsxs(ce,{children:[e.jsx(cs,{items:s.navMain}),e.jsx(ds,{})]}),e.jsx(de,{children:e.jsx(us,{user:a})}),e.jsx(ue,{})]})}function xs(){const{url:t}=f(),n=t.split("?")[0].split("#")[0].split("/").filter(Boolean),s={dashboard:"Dashboard",profile:"User Profile",products:"Products",users:"Users",settings:"Settings"},r=n.map((i,o)=>{const j=o===n.length-1,p=`/${n.slice(0,o+1).join("/")}`,u=i.replace(/-/g," ").replace(/\b\w/g,N=>N.toUpperCase());return{title:s[i.toLowerCase()]||u,path:p,isLast:j}});return n.some(i=>i.toLowerCase()==="dashboard")||r.unshift({title:"Dashboard",path:"/dashboard",isLast:!1}),e.jsx(he,{children:e.jsx(pe,{children:r.map((i,o)=>e.jsxs("div",{className:"flex items-center gap-1",children:[o>0&&e.jsx(xe,{className:"hidden md:block"}),e.jsx(me,{className:o===0?"hidden md:block":"",children:i.isLast?e.jsx(ge,{children:i.title}):e.jsx(je,{onClick:()=>x.get(i.path),children:i.title})})]},o))})})}function ys({header:t,children:a}){const{auth:n,flash:s}=f().props;f().props.auth.user;const{toast:r}=_e();return l.useRef(null),l.useEffect(()=>{s!=null&&s.success&&r({title:"Success",description:s.success,variant:"default"}),s!=null&&s.error&&r({title:"Error",description:s.error,variant:"destructive"}),s!=null&&s.warning&&r({title:"Warning",description:s.warning,variant:"default"}),s!=null&&s.info&&r({title:"Information",description:s.info,variant:"default"}),s!=null&&s.message&&r({title:"Notification",description:s.message,variant:"default"})},[s,r]),l.useEffect(()=>{console.log("Listening for messages...");let i;try{i=window.Echo.channel("admin-notifications"),console.log("Chat channel created:",i),i.subscribed(()=>{console.log("Successfully subscribed to admin-notifications channel")}),i.listen(".NewNotification",o=>{console.log("Received event:",o),r({title:"New Message",description:o.message||"No message content",variant:"default"})}),i.error(o=>{console.error("Channel subscription error:",o)})}catch(o){console.error("Error setting up Echo listener:",o)}return()=>{console.log("Leaving channel..."),i&&(i.stopListening(".NewNotification"),window.Echo.leaveChannel("admin-notifications"))}},[r]),e.jsx("div",{children:e.jsxs(be,{children:[e.jsx(ps,{}),e.jsxs(fe,{children:[e.jsx("header",{className:"flex h-16 shrink-0 items-center gap-2 transition-[width,height] ease-linear group-has-[[data-collapsible=icon]]/sidebar-wrapper:h-12",children:e.jsxs("div",{className:"flex items-center gap-2 px-4",children:[e.jsx(ye,{className:"-ml-1"}),e.jsx(Ne,{orientation:"vertical",className:"mr-2 h-4"}),e.jsx(xs,{})]})}),e.jsx("main",{children:a}),e.jsx(Le,{})]})]})})}export{ys as A,Pe as B,J as E,Xe as U};
