import{J as F,r as a,S as d,j as e,Q as I}from"./app-DPSAwgV-.js";import{A as V,E as A}from"./AuthenticatedLayout-yGSXkwSl.js";import{u as z,f as x,g as E,a as H,b as _,c as K}from"./index-TIRNYKBh.js";import{I as L,D as p,a as j,B as i,b as C,c as B,T as O,d as Q,e as J,f as q,g as G,h as f}from"./breadcrumb-BmHZh8Fc.js";import{C as w}from"./checkbox-BwiUcTbM.js";import{T as U,a as W,b as g,c as X,d as Y,e as S}from"./table-BmvrBnZN.js";import{D as Z,a as $,b as ee,c as se,d as te,e as le,f as ae}from"./dialog-CIlNYZx2.js";import{C as ie}from"./chevron-down-jL35q6dm.js";import{P as ne}from"./plus-Cw4f8vKQ.js";import"./toast-C30GjKGW.js";import"./index-N07Wt9Fa.js";import"./toaster-D8AFgyQX.js";import"./index-De5retw2.js";function we(){var h,m;const{ourclients:n,filters:b,sort:v}=F().props,[o,N]=a.useState(v||[]),[r,D]=a.useState(b||[]),[y,R]=a.useState({}),[P,T]=a.useState({}),[c,M]=a.useState({pageIndex:n.current_page-1,pageSize:n.per_page}),u=[{id:"select",header:({table:s})=>e.jsx(w,{checked:s.getIsAllPageRowsSelected()||s.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:t=>s.toggleAllPageRowsSelected(!!t),"aria-label":"Select all"}),cell:({row:s})=>e.jsx(w,{checked:s.getIsSelected(),onCheckedChange:t=>s.toggleSelected(!!t),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:"S.No",cell:({row:s})=>e.jsx("div",{children:s.index+1})},{accessorKey:"name",header:"Name",cell:({row:s})=>e.jsx("div",{children:s.getValue("name")})},{accessorKey:"status",header:"Status",cell:({row:s})=>e.jsx("div",{children:s.getValue("status")})},{accessorKey:"created_at",header:"Created At",cell:({row:s})=>new Date(s.getValue("created_at")).toLocaleDateString()},{id:"actions",enableHiding:!1,cell:({row:s})=>{const t=s.original;return e.jsxs(p,{children:[e.jsx(j,{asChild:!0,children:e.jsxs(i,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(A,{className:"h-4 w-4"})]})}),e.jsxs(C,{align:"end",children:[e.jsx(G,{children:"Actions"}),e.jsx(f,{onClick:()=>d.get(route("ourclient.edit",t.id)),className:"cursor-pointer",children:"Edit ourclient"}),e.jsxs(Z,{children:[e.jsx($,{asChild:!0,children:e.jsx(f,{className:"cursor-pointer",onSelect:k=>k.preventDefault(),children:"Delete ourclient"})}),e.jsxs(ee,{className:"sm:max-w-[425px]",children:[e.jsxs(se,{children:[e.jsx(te,{children:"Delete ourclient"}),e.jsx(le,{children:"Are you sure you want to delete this ourclient? This action cannot be undone."})]}),e.jsx("div",{className:"grid gap-4 py-4"}),e.jsx(ae,{children:e.jsx(i,{variant:"destructive",onClick:()=>{d.delete(route("ourclient.destroy",t.id))},children:"Confirm Delete"})})]})]})]})]})}}];a.useEffect(()=>{const s={};r.length>0&&(s.filters=Object.fromEntries(r.map(t=>[t.id,t.value]))),o.length>0&&(s.sort={key:o[0].id,order:o[0].desc?"desc":"asc"}),s.page=c.pageIndex+1,s.perPage=c.pageSize,d.get(route("ourclient.index"),s,{preserveState:!0,replace:!0})},[r,o,c]);const l=z({data:n.data,columns:u,pageCount:n.last_page,state:{sorting:o,columnFilters:r,columnVisibility:y,rowSelection:P,pagination:c},onSortingChange:N,onColumnFiltersChange:D,onColumnVisibilityChange:R,onRowSelectionChange:T,onPaginationChange:M,getCoreRowModel:K(),getPaginationRowModel:_(),getSortedRowModel:H(),getFilteredRowModel:E(),manualPagination:!0,manualSorting:!0,manualFiltering:!0});return e.jsxs(V,{children:[e.jsx(I,{title:"ourclients"}),e.jsxs("div",{className:"flex flex-1 flex-col",children:[e.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2 p-10",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center py-4",children:[e.jsx(L,{placeholder:"Filter title...",value:((h=l.getColumn("title"))==null?void 0:h.getFilterValue())??"",onChange:s=>{var t;return(t=l.getColumn("title"))==null?void 0:t.setFilterValue(s.target.value)},className:"max-w-sm"}),e.jsxs(p,{children:[e.jsx(j,{asChild:!0,children:e.jsxs(i,{variant:"outline",className:"ml-auto",children:["Columns ",e.jsx(ie,{className:"ml-2 h-4 w-4"})]})}),e.jsx(C,{align:"end",children:l.getAllColumns().filter(s=>s.getCanHide()).map(s=>e.jsx(B,{className:"capitalize",checked:s.getIsVisible(),onCheckedChange:t=>s.toggleVisibility(!!t),children:s.id},s.id))})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(U,{children:[e.jsx(W,{children:l.getHeaderGroups().map(s=>e.jsx(g,{children:s.headers.map(t=>e.jsx(X,{children:t.isPlaceholder?null:x(t.column.columnDef.header,t.getContext())},t.id))},s.id))}),e.jsx(Y,{children:(m=l.getRowModel().rows)!=null&&m.length?l.getRowModel().rows.map(s=>e.jsx(g,{"data-state":s.getIsSelected()&&"selected",children:s.getVisibleCells().map(t=>e.jsx(S,{children:x(t.column.columnDef.cell,t.getContext())},t.id))},s.id)):e.jsx(g,{children:e.jsx(S,{colSpan:u.length,className:"h-24 text-center",children:"No results."})})})]})}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[e.jsxs("div",{className:"space-x-2",children:[e.jsx(i,{variant:"outline",size:"sm",onClick:()=>l.previousPage(),disabled:!l.getCanPreviousPage(),children:"Previous"}),e.jsx(i,{variant:"outline",size:"sm",onClick:()=>l.nextPage(),disabled:!l.getCanNextPage(),children:"Next"})]}),e.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:[l.getFilteredSelectedRowModel().rows.length," of"," ",n.total," row(s) selected."]})]})]})}),e.jsx("div",{className:"fixed bottom-8 right-8 z-50",children:e.jsx(O,{children:e.jsxs(Q,{children:[e.jsx(J,{asChild:!0,children:e.jsxs(i,{size:"md",className:"rounded-full h-14 w-14 shadow-lg hover:shadow-xl transition-shadow",onClick:()=>d.get(route("ourclient.create")),children:[e.jsx(ne,{className:"h-6 w-6"}),e.jsx("span",{className:"sr-only",children:"Add client"})]})}),e.jsx(q,{children:e.jsx("p",{children:"Add client"})})]})})})]})]})}export{we as default};
