import{r as i,j as e,Q as P,S as b}from"./app-CkUBYloB.js";import{A as F}from"./AuthenticatedLayout-CkNfIaua.js";import{I as f,B as o}from"./breadcrumb-CM_vnTIo.js";import{T as E}from"./textarea-D8BI8QZr.js";import{S as q,a as A,b as D,c as L,d as v}from"./select-rr728qoB.js";import{F as k,a as T,b as d,E as l}from"./formik.esm-DmOR7PAq.js";import{c as $,a as z,b as c}from"./index.esm-C-M5CWKm.js";import N from"./Model-BIRWUWqy.js";import{X as y}from"./toast-Cn9X5YH-.js";import"./toaster-Bqog02ac.js";import"./index-DCf5pAp7.js";import"./index-CidV33k1.js";import"./chevron-down-9mRVNMiS.js";import"./alert-UG09T5SW.js";import"./Modal-DdS_1_YQ.js";import"./transition-cGwzPy_b.js";import"./search-CB0HZ32w.js";import"./trash-2-DAAdL3q4.js";import"./video-BXm5TnEL.js";import"./upload-BcezP7Mg.js";import"./download-C1Gbq6d5.js";import"./eye-T_Ot7gAE.js";function me(){const[u,m]=i.useState(null),[x,p]=i.useState(null),w=$({name:c().required("Name is required").min(2,"Name must be at least 2 characters").max(255,"Name must not exceed 255 characters"),description:c().notRequired().max(1e3,"Description must not exceed 1000 characters"),status:c().required("Status is required").oneOf(["published","draft"],"Invalid status"),priority:z().required("Priority is required").min(0,"Priority must be at least 0").max(9999999,"Priority must not exceed 9999999")}),S=(a,{setSubmitting:t,resetForm:r})=>{const s=new FormData;["name","description","status","priority"].forEach(n=>{s.append(n,a[n])}),a.image&&s.append("image",a.image),a.coloredimage&&s.append("coloredimage",a.coloredimage),b.post(route("ourclient.store"),s,{forceFormData:!0,onSuccess:()=>{t(!1),r(),m(null)},onError:n=>{t(!1)}})},h=(a,t,r)=>{a(t,null),r(null)},C=()=>({name:"",description:"",image:null,thumbnail:null,status:"",priority:0}),[M,g]=i.useState(!1),[I,j]=i.useState(!1);return e.jsxs(F,{children:[e.jsx(P,{title:"Add ourclient"}),e.jsx("div",{className:"flex flex-1 flex-col",children:e.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2 p-10",children:e.jsx("div",{className:"w-full",children:e.jsx(k,{initialValues:C(),validationSchema:w,onSubmit:S,children:({isSubmitting:a,setFieldValue:t,values:r})=>e.jsxs(T,{className:"space-y-6 bg-white p-6 rounded-lg shadow",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Client name *"}),e.jsx(d,{as:f,id:"name",name:"name",placeholder:"Enter name"}),e.jsx(l,{name:"name",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),e.jsx(d,{as:E,id:"description",name:"description",placeholder:"Enter ourclient description",rows:4}),e.jsx(l,{name:"description",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Status *"}),e.jsxs(q,{name:"status",value:r.status,onValueChange:s=>t("status",s),children:[e.jsx(A,{children:e.jsx(D,{placeholder:"Select status"})}),e.jsxs(L,{children:[e.jsx(v,{value:"published",children:"Published"}),e.jsx(v,{value:"draft",children:"Draft"})]})]}),e.jsx(l,{name:"status",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"priority",className:"text-sm font-medium",children:"Priority (0-100) *"}),e.jsx(d,{as:f,id:"priority",name:"priority",type:"number",min:"0",max:"100",placeholder:"0"}),e.jsx(l,{name:"priority",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"image",className:"text-sm font-medium",children:"ourclient Image"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:[e.jsx("button",{type:"button",onClick:()=>g(!0),children:"Add Media"}),e.jsx(N,{routename:route("ourclient.create"),showModal:M,setShowModal:g,setFieldValue:t,fieldName:"image",setImagePreview:m}),u&&e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:u,alt:"Thumbnail Preview",className:"w-24 h-24 object-cover rounded-lg mx-auto"}),e.jsx(o,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2",onClick:()=>h(t,"image",m),children:e.jsx(y,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"image",className:"text-sm font-medium",children:"Coloured Image"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:[e.jsx("button",{type:"button",onClick:()=>j(!0),children:"Add Media"}),e.jsx(N,{routename:route("ourclient.create"),showModal:I,setShowModal:j,setFieldValue:t,fieldName:"coloredimage",setImagePreview:p}),x&&e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:x,alt:"Thumbnail Preview",className:"w-24 h-24 object-cover rounded-lg mx-auto"}),e.jsx(o,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2",onClick:()=>h(t,"coloredimage",p),children:e.jsx(y,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(o,{type:"button",variant:"outline",onClick:()=>b.get(route("ourclient.index")),children:"Cancel"}),e.jsx(o,{type:"submit",disabled:a,children:a?"Creating...":"Create client"})]})]})})})})})]})}export{me as default};
