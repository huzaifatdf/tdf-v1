import{r as p,j as e,$ as y,m as x}from"./app-OVId_Pss.js";import{A as S}from"./AuthenticatedLayout-CxBtA8bm.js";import{I as h,B as n}from"./breadcrumb-BAwKg1k-.js";import{T as w}from"./textarea-DKx05oxI.js";import{S as F,a as I,b as C,c as E,d as j}from"./select-BOl3lN3h.js";import{c as M,a as P,b as m,F as q,d as D,e as c,E as i}from"./index.esm-Dwxd3C7G.js";import A from"./Model-Bgu-Rufc.js";import{X as $}from"./toast-C4WEAEKL.js";import"./toaster-DKyAbTvv.js";import"./index-3Mo68mRZ.js";import"./index-D2CZKia8.js";import"./chevron-down-BtZiTra8.js";import"./alert-BlSfkhEF.js";import"./Modal-BuPVGnv_.js";import"./transition-DY2Cu4g7.js";import"./search-wqVwrAFJ.js";import"./trash-2-CP4aOv_g.js";import"./video-Dh5jubBn.js";import"./upload-BLqz8ERd.js";import"./download-BcYPf2zR.js";import"./eye-DNssXd18.js";function se(){const[d,l]=p.useState(null),f=M({name:m().required("Name is required").min(2,"Name must be at least 2 characters").max(255,"Name must not exceed 255 characters"),description:m().notRequired().max(1e3,"Description must not exceed 1000 characters"),status:m().required("Status is required").oneOf(["published","draft"],"Invalid status"),priority:P().required("Priority is required").min(0,"Priority must be at least 0").max(9999999,"Priority must not exceed 9999999")}),g=(t,{setSubmitting:a,resetForm:s})=>{const r=new FormData;["name","description","status","priority"].forEach(o=>{r.append(o,t[o])}),t.image&&r.append("image",t.image),x.post(route("ourclient.store"),r,{forceFormData:!0,onSuccess:()=>{a(!1),s(),l(null)},onError:o=>{a(!1)}})},b=(t,a,s)=>{t(a,null),s(null)},N=()=>({name:"",description:"",image:null,thumbnail:null,status:"",priority:0}),[v,u]=p.useState(!1);return e.jsxs(S,{children:[e.jsx(y,{title:"Add ourclient"}),e.jsx("div",{className:"flex flex-1 flex-col",children:e.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2 p-10",children:e.jsx("div",{className:"w-full",children:e.jsx(q,{initialValues:N(),validationSchema:f,onSubmit:g,children:({isSubmitting:t,setFieldValue:a,values:s})=>e.jsxs(D,{className:"space-y-6 bg-white p-6 rounded-lg shadow",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Client name *"}),e.jsx(c,{as:h,id:"name",name:"name",placeholder:"Enter name"}),e.jsx(i,{name:"name",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),e.jsx(c,{as:w,id:"description",name:"description",placeholder:"Enter ourclient description",rows:4}),e.jsx(i,{name:"description",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Status *"}),e.jsxs(F,{name:"status",value:s.status,onValueChange:r=>a("status",r),children:[e.jsx(I,{children:e.jsx(C,{placeholder:"Select status"})}),e.jsxs(E,{children:[e.jsx(j,{value:"published",children:"Published"}),e.jsx(j,{value:"draft",children:"Draft"})]})]}),e.jsx(i,{name:"status",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"priority",className:"text-sm font-medium",children:"Priority (0-100) *"}),e.jsx(c,{as:h,id:"priority",name:"priority",type:"number",min:"0",max:"100",placeholder:"0"}),e.jsx(i,{name:"priority",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"image",className:"text-sm font-medium",children:"ourclient Image"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:[e.jsx("button",{type:"button",onClick:()=>u(!0),children:"Add Media"}),e.jsx(A,{routename:route("ourclient.create"),showModal:v,setShowModal:u,setFieldValue:a,fieldName:"image",setImagePreview:l}),d&&e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:d,alt:"Thumbnail Preview",className:"w-24 h-24 object-cover rounded-lg mx-auto"}),e.jsx(n,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2",onClick:()=>b(a,"image",l),children:e.jsx($,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(n,{type:"button",variant:"outline",onClick:()=>x.get(route("ourclient.index")),children:"Cancel"}),e.jsx(n,{type:"submit",disabled:t,children:t?"Creating...":"Create client"})]})]})})})})})]})}export{se as default};
