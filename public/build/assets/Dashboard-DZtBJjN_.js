import{r as y,j as e,R as w,q as se,$ as te}from"./app-BfRcl5xO.js";import{A as re}from"./AuthenticatedLayout-DJKRD7CK.js";import{T,a as C,b as h,c as a,d as $,e as i}from"./table-CjJz_U3S.js";import{I as R}from"./breadcrumb-CX3FgA8B.js";import{C as m,a as j,b as g,c as u}from"./card-jSY0C_uK.js";import{B as F}from"./badge-0jLkO6BH.js";import{T as W,a as G,b as _,c as k}from"./tabs-BYIIwmCv.js";import"./toast-BWK2j3LS.js";import"./index-B0Q_FBlq.js";import"./toaster-ttqztGNd.js";const ae=({data:s})=>{const[t,l]=y.useState(""),[c,f]=y.useState(""),[v,x]=y.useState(""),S=s.performance.top_queries.filter(r=>r.keys[0].toLowerCase().includes(t.toLowerCase())),o=s.performance.top_pages.filter(r=>r.keys[0].toLowerCase().includes(c.toLowerCase())),d=s.performance.daily_performance.filter(r=>r.keys[0].toLowerCase().includes(v.toLowerCase())),p=r=>new Intl.NumberFormat().format(r),D=r=>`${(r*100).toFixed(2)}%`;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(m,{children:[e.jsx(j,{children:e.jsx(g,{children:"Site Information"})}),e.jsx(u,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Site URL"}),e.jsx("p",{className:"font-medium",children:s.site_info.site_url})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),e.jsx(F,{variant:s.site_info.status==="active"?"default":"destructive",children:s.site_info.status})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Updated"}),e.jsx("p",{className:"font-medium",children:new Date(s.site_info.last_updated).toLocaleString()})]})]})})]}),e.jsxs(m,{children:[e.jsx(j,{children:e.jsx(g,{children:"Sitemaps"})}),e.jsx(u,{children:e.jsxs(T,{children:[e.jsx(C,{children:e.jsxs(h,{children:[e.jsx(a,{children:"Path"}),e.jsx(a,{children:"Last Submitted"}),e.jsx(a,{children:"Last Downloaded"}),e.jsx(a,{children:"Warnings"}),e.jsx(a,{children:"Errors"})]})}),e.jsx($,{children:s.sitemaps.list.map((r,N)=>e.jsxs(h,{children:[e.jsx(i,{className:"font-medium",children:r.path}),e.jsx(i,{children:new Date(r.last_submitted).toLocaleDateString()}),e.jsx(i,{children:new Date(r.last_downloaded).toLocaleDateString()}),e.jsx(i,{children:e.jsx(F,{variant:r.warnings>0?"destructive":"default",children:r.warnings})}),e.jsx(i,{children:e.jsx(F,{variant:r.errors>0?"destructive":"default",children:r.errors})})]},N))})]})})]}),e.jsxs(m,{children:[e.jsx(j,{children:e.jsxs(g,{children:["Performance Summary (",s.performance.period_days," days)"]})}),e.jsx(u,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Clicks"}),e.jsx("p",{className:"text-2xl font-bold",children:p(s.performance.totals.clicks)})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Impressions"}),e.jsx("p",{className:"text-2xl font-bold",children:p(s.performance.totals.impressions)})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Average CTR"}),e.jsx("p",{className:"text-2xl font-bold",children:D(s.performance.totals.average_ctr)})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Average Position"}),e.jsx("p",{className:"text-2xl font-bold",children:s.performance.totals.average_position.toFixed(2)})]})]})})]}),e.jsxs(W,{defaultValue:"queries",className:"w-full",children:[e.jsxs(G,{className:"grid grid-cols-3 w-full",children:[e.jsx(_,{value:"queries",children:"Top Queries"}),e.jsx(_,{value:"pages",children:"Top Pages"}),e.jsx(_,{value:"daily",children:"Daily Performance"})]}),e.jsx(k,{value:"queries",children:e.jsxs(m,{children:[e.jsx(j,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(g,{children:"Top Queries"}),e.jsx(R,{placeholder:"Filter queries...",value:t,onChange:r=>l(r.target.value),className:"max-w-sm"})]})}),e.jsx(u,{children:e.jsxs(T,{children:[e.jsx(C,{children:e.jsxs(h,{children:[e.jsx(a,{children:"Query"}),e.jsx(a,{className:"text-right",children:"Clicks"}),e.jsx(a,{className:"text-right",children:"Impressions"}),e.jsx(a,{className:"text-right",children:"CTR"}),e.jsx(a,{className:"text-right",children:"Position"})]})}),e.jsx($,{children:S.map((r,N)=>e.jsxs(h,{children:[e.jsx(i,{className:"font-medium",children:r.keys[0]}),e.jsx(i,{className:"text-right",children:p(r.clicks)}),e.jsx(i,{className:"text-right",children:p(r.impressions)}),e.jsx(i,{className:"text-right",children:D(r.ctr)}),e.jsx(i,{className:"text-right",children:r.position.toFixed(2)})]},N))})]})})]})}),e.jsx(k,{value:"pages",children:e.jsxs(m,{children:[e.jsx(j,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(g,{children:"Top Pages"}),e.jsx(R,{placeholder:"Filter pages...",value:c,onChange:r=>f(r.target.value),className:"max-w-sm"})]})}),e.jsx(u,{children:e.jsxs(T,{children:[e.jsx(C,{children:e.jsxs(h,{children:[e.jsx(a,{children:"Page"}),e.jsx(a,{className:"text-right",children:"Clicks"}),e.jsx(a,{className:"text-right",children:"Impressions"}),e.jsx(a,{className:"text-right",children:"CTR"}),e.jsx(a,{className:"text-right",children:"Position"})]})}),e.jsx($,{children:o.map((r,N)=>e.jsxs(h,{children:[e.jsx(i,{className:"font-medium",children:e.jsx("a",{href:r.keys[0],target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:r.keys[0].replace("https://thedesignsfirm.com","")||"/"})}),e.jsx(i,{className:"text-right",children:p(r.clicks)}),e.jsx(i,{className:"text-right",children:p(r.impressions)}),e.jsx(i,{className:"text-right",children:D(r.ctr)}),e.jsx(i,{className:"text-right",children:r.position.toFixed(2)})]},N))})]})})]})}),e.jsx(k,{value:"daily",children:e.jsxs(m,{children:[e.jsx(j,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(g,{children:"Daily Performance"}),e.jsx(R,{placeholder:"Filter by date...",value:v,onChange:r=>x(r.target.value),className:"max-w-sm"})]})}),e.jsx(u,{children:e.jsxs(T,{children:[e.jsx(C,{children:e.jsxs(h,{children:[e.jsx(a,{children:"Date"}),e.jsx(a,{className:"text-right",children:"Clicks"}),e.jsx(a,{className:"text-right",children:"Impressions"}),e.jsx(a,{className:"text-right",children:"CTR"}),e.jsx(a,{className:"text-right",children:"Position"})]})}),e.jsx($,{children:d.map((r,N)=>e.jsxs(h,{children:[e.jsx(i,{className:"font-medium",children:new Date(r.keys[0]).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",weekday:"short"})}),e.jsx(i,{className:"text-right",children:p(r.clicks)}),e.jsx(i,{className:"text-right",children:p(r.impressions)}),e.jsx(i,{className:"text-right",children:D(r.ctr)}),e.jsx(i,{className:"text-right",children:r.position.toFixed(2)})]},N))})]})})]})})]})]})},ie=({data:s})=>{var c,f,v,x,S;const t=o=>(o==null?void 0:o.toLocaleString())||"0",l=(o,d)=>!d||d===0?"0%":`${(o/d*100).toFixed(1)}%`;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(m,{children:[e.jsx(j,{children:e.jsx(g,{className:"text-sm font-medium",children:"Total Visits"})}),e.jsx(u,{children:e.jsx("p",{className:"text-2xl font-bold",children:t(s.total_visits)})})]}),e.jsxs(m,{children:[e.jsx(j,{children:e.jsx(g,{className:"text-sm font-medium",children:"Unique Visitors"})}),e.jsx(u,{children:e.jsx("p",{className:"text-2xl font-bold",children:t(s.unique_visitors)})})]}),e.jsxs(m,{children:[e.jsx(j,{children:e.jsx(g,{className:"text-sm font-medium",children:"Bounce Rate"})}),e.jsx(u,{children:e.jsxs("p",{className:"text-2xl font-bold",children:[(c=s.bounce_rate)==null?void 0:c.toFixed(1),"%"]})})]}),e.jsxs(m,{children:[e.jsx(j,{children:e.jsx(g,{className:"text-sm font-medium",children:"Device Distribution"})}),e.jsx(u,{children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Desktop"}),e.jsx("p",{className:"text-lg font-bold",children:((f=s.device_distribution)==null?void 0:f.desktop)||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Mobile"}),e.jsx("p",{className:"text-lg font-bold",children:((v=s.device_distribution)==null?void 0:v.mobile)||0})]})]})})]})]}),e.jsxs(W,{defaultValue:"pages",className:"w-full",children:[e.jsxs(G,{className:"grid grid-cols-3 w-full",children:[e.jsx(_,{value:"pages",children:"Top Pages"}),e.jsx(_,{value:"sources",children:"Traffic Sources"}),e.jsx(_,{value:"countries",children:"Countries"})]}),e.jsx(k,{value:"pages",children:e.jsxs(m,{children:[e.jsx(j,{children:e.jsx(g,{children:"Top Pages"})}),e.jsx(u,{children:e.jsxs(T,{children:[e.jsx(C,{children:e.jsxs(h,{children:[e.jsx(a,{children:"Page URL"}),e.jsx(a,{className:"text-right",children:"Visits"}),e.jsx(a,{className:"text-right",children:"Percentage"})]})}),e.jsx($,{children:(x=s.top_pages)==null?void 0:x.map((o,d)=>e.jsxs(h,{children:[e.jsx(i,{className:"font-medium",children:e.jsx("a",{href:o.page_url,target:"_blank",rel:"noopener noreferrer",className:"hover:underline text-blue-600",children:o.page_url.replace("https://","").replace("http://","")})}),e.jsx(i,{className:"text-right",children:t(o.visits)}),e.jsx(i,{className:"text-right",children:l(o.visits,s.total_visits)})]},d))})]})})]})}),e.jsx(k,{value:"sources",children:e.jsxs(m,{children:[e.jsx(j,{children:e.jsx(g,{children:"Traffic Sources"})}),e.jsx(u,{children:e.jsxs(T,{children:[e.jsx(C,{children:e.jsxs(h,{children:[e.jsx(a,{children:"Source"}),e.jsx(a,{className:"text-right",children:"Visits"}),e.jsx(a,{className:"text-right",children:"Percentage"})]})}),e.jsx($,{children:(S=s.traffic_sources)==null?void 0:S.map((o,d)=>e.jsxs(h,{children:[e.jsx(i,{className:"font-medium",children:e.jsx(F,{variant:"outline",children:o.source})}),e.jsx(i,{className:"text-right",children:t(o.visits)}),e.jsx(i,{className:"text-right",children:l(o.visits,s.total_visits)})]},d))})]})})]})}),e.jsx(k,{value:"countries",children:e.jsxs(m,{children:[e.jsx(j,{children:e.jsx(g,{children:"Country Distribution"})}),e.jsx(u,{children:e.jsxs(T,{children:[e.jsx(C,{children:e.jsxs(h,{children:[e.jsx(a,{children:"Country"}),e.jsx(a,{className:"text-right",children:"Visits"}),e.jsx(a,{className:"text-right",children:"Percentage"})]})}),e.jsx($,{children:Object.entries(s.country_distribution||{}).map(([o,d],p)=>e.jsxs(h,{children:[e.jsx(i,{className:"font-medium",children:o}),e.jsx(i,{className:"text-right",children:t(d)}),e.jsx(i,{className:"text-right",children:l(d,s.total_visits)})]},p))})]})})]})})]})]})},P={accounts:{data:[{account_id:"6209496184",name:"The Design Firm"},{account_id:"1234567890",name:"Another Cool Client"}]},reports:{"6209496184":{success:!0,data:{account_info:{account_id:"6209496184",name:"The Design Firm",path:"accounts/6209496184"},containers:[{container_info:{container_id:"173254724",name:"thedesignsfirm.com",public_id:"GTM-WB65WTFQ",usage_context:["web"]},workspaces:[{workspace_info:{workspace_id:"2",name:"Default Workspace"},summary:{tags_count:2,triggers_count:3,variables_count:4,built_in_variables_count:5},tags:[{name:"Google Analytics 4",type:"gaawe"},{name:"Facebook Pixel",type:"fbp"}],triggers:[{name:"All Pages",type:"pageview"},{name:"Button Click",type:"click"},{name:"Form Submission",type:"formSubmission"}],variables:[{name:"GA4 Measurement ID",type:"constant"},{name:"Debug Mode",type:"debugMode"},{name:"Click Text",type:"clickText"},{name:"Error Message",type:"autoEventVariable"}],built_in_variables:[{name:"Page URL",type:"pageUrl"},{name:"Page Hostname",type:"pageHostname"},{name:"Page Path",type:"pagePath"},{name:"Referrer",type:"referrer"},{name:"Event",type:"event"}]}],summary:{workspaces_count:1}}],summary:{containers_count:1,total_workspaces:1,total_versions:0},generated_at:"2025-06-24T11:14:12.292595Z"}},1234567890:{success:!0,data:{account_info:{account_id:"1234567890",name:"Another Cool Client",path:"accounts/1234567890"},containers:[],summary:{containers_count:0,total_workspaces:0,total_versions:0},generated_at:"2025-06-24T12:00:00.000000Z"}}}},ne=({className:s})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:s,children:e.jsx("path",{d:"m6 9 6 6 6-6"})}),le=({className:s})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:s,children:[e.jsx("path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z"}),e.jsx("path",{d:"M7 7h.01"})]}),ce=({className:s})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:s,children:e.jsx("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),Z=({className:s})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:s,children:[e.jsx("path",{d:"M8 21s-4-3-4-9 4-9 4-9"}),e.jsx("path",{d:"M16 3s4 3 4 9-4 9-4 9"}),e.jsx("line",{x1:"15",x2:"9",y1:"9",y2:"15"}),e.jsx("line",{x1:"9",x2:"15",y1:"9",y2:"15"})]}),L=({children:s,className:t=""})=>e.jsx("div",{className:`bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl shadow-sm ${t}`,children:s}),B=({children:s,className:t=""})=>e.jsx("div",{className:`p-6 ${t}`,children:s}),z=({children:s,className:t=""})=>e.jsx("div",{className:`p-6 pt-0 ${t}`,children:s}),M=({children:s,className:t=""})=>e.jsx("h3",{className:`text-xl font-semibold leading-none tracking-tight text-gray-800 dark:text-gray-200 ${t}`,children:s}),V=({children:s,className:t=""})=>e.jsx("p",{className:`text-sm text-gray-500 dark:text-gray-400 ${t}`,children:s}),J=({children:s,variant:t="default",className:l=""})=>{const c={default:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200",primary:"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300"};return e.jsx("span",{className:`inline-flex items-center rounded-md px-2.5 py-0.5 text-xs font-semibold ${c[t]} ${l}`,children:s})},oe=({children:s,className:t=""})=>e.jsx("div",{className:`w-full text-sm ${t}`,children:e.jsx("table",{className:"w-full caption-bottom",children:s})}),de=({children:s,className:t=""})=>e.jsx("thead",{className:`[&_tr]:border-b [&_tr]:border-gray-200 dark:[&_tr]:border-gray-800 ${t}`,children:s}),xe=({children:s,className:t=""})=>e.jsx("tbody",{className:`[&_tr:last-child]:border-0 ${t}`,children:s}),K=({children:s,className:t=""})=>e.jsx("tr",{className:`border-b border-gray-200 dark:border-gray-800 transition-colors hover:bg-gray-100/50 dark:hover:bg-gray-800/50 ${t}`,children:s}),X=({children:s,className:t=""})=>e.jsx("th",{className:`h-12 px-4 text-left align-middle font-medium text-gray-500 dark:text-gray-400 ${t}`,children:s}),Y=({children:s,className:t=""})=>e.jsx("td",{className:`p-4 align-middle text-gray-800 dark:text-gray-200 ${t}`,children:s}),E=w.createContext({}),he=({children:s,defaultValue:t})=>{const[l,c]=y.useState(t);return e.jsx(E.Provider,{value:{openItem:l,setOpenItem:c},children:s})},me=({children:s,value:t,className:l=""})=>e.jsx("div",{className:`border-b border-gray-200 dark:border-gray-800 ${l}`,children:w.Children.map(s,c=>w.cloneElement(c,{value:t}))}),je=({children:s,value:t})=>{const{openItem:l,setOpenItem:c}=w.useContext(E),f=l===t;return e.jsxs("button",{className:"flex flex-1 items-center justify-between w-full py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",onClick:()=>c(f?null:t),"data-state":f?"open":"closed",children:[s,e.jsx(ne,{className:"h-4 w-4 shrink-0 transition-transform duration-200 text-gray-500"})]})},ge=({children:s,value:t})=>{const{openItem:l}=w.useContext(E),c=l===t;return e.jsx("div",{className:`overflow-hidden text-sm transition-all ${c?"max-h-[1000px] opacity-100 pb-4":"max-h-0 opacity-0"}`,children:s})},H=w.createContext({}),ue=({children:s,defaultValue:t})=>{const[l,c]=y.useState(t);return e.jsx(H.Provider,{value:{activeTab:l,setActiveTab:c},children:s})},pe=({children:s,className:t=""})=>e.jsx("div",{className:`inline-flex h-10 items-center justify-center rounded-md bg-gray-100 dark:bg-gray-800 p-1 text-gray-500 dark:text-gray-400 ${t}`,children:s}),A=({children:s,value:t,className:l=""})=>{const{activeTab:c,setActiveTab:f}=w.useContext(H),v=c===t;return e.jsx("button",{onClick:()=>f(t),className:`inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ${v?"bg-white dark:bg-gray-950 text-gray-950 dark:text-gray-50 shadow-sm":""} ${l}`,children:s})},fe=({children:s,value:t})=>{const{activeTab:l}=w.useContext(H);return l===t?e.jsx("div",{className:"mt-4 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:s}):null};function be({accounts:s,initialReport:t}){var N,U,O,Q,q;const[l,c]=y.useState(P.accounts.data),[f,v]=y.useState((N=P.accounts.data[0])==null?void 0:N.account_id),[x,S]=y.useState((O=P.reports[(U=P.accounts.data[0])==null?void 0:U.account_id])==null?void 0:O.data),[o,d]=y.useState(!1),p=n=>{d(!0),v(n),console.log(`Fetching report for account: ${n}`),setTimeout(()=>{var b;S((b=P.reports[n])==null?void 0:b.data),d(!1)},500)},D=({workspace:n})=>e.jsxs(ue,{defaultValue:"tags",children:[e.jsxs(pe,{children:[e.jsxs(A,{value:"tags",children:["Tags (",n.summary.tags_count,")"]}),e.jsxs(A,{value:"triggers",children:["Triggers (",n.summary.triggers_count,")"]}),e.jsxs(A,{value:"variables",children:["Variables (",n.summary.variables_count,")"]}),e.jsxs(A,{value:"builtIn",children:["Built-in (",n.summary.built_in_variables_count,")"]})]}),e.jsx(r,{tab:"tags",items:n.tags,icon:e.jsx(le,{className:"h-4 w-4 mr-2 text-blue-500"})}),e.jsx(r,{tab:"triggers",items:n.triggers,icon:e.jsx(ce,{className:"h-4 w-4 mr-2 text-orange-500"})}),e.jsx(r,{tab:"variables",items:n.variables,icon:e.jsx(Z,{className:"h-4 w-4 mr-2 text-purple-500"})}),e.jsx(r,{tab:"builtIn",items:n.built_in_variables,icon:e.jsx(Z,{className:"h-4 w-4 mr-2 text-green-500"})})]}),r=({tab:n,items:b,icon:ee})=>e.jsx(fe,{value:n,children:b&&b.length>0?e.jsx(L,{className:"mt-4",children:e.jsxs(oe,{children:[e.jsx(de,{children:e.jsxs(K,{children:[e.jsx(X,{children:"Name"}),e.jsx(X,{children:"Type"})]})}),e.jsx(xe,{children:b.map(I=>e.jsxs(K,{children:[e.jsxs(Y,{className:"font-medium flex items-center",children:[ee," ",I.name]}),e.jsx(Y,{children:e.jsx(J,{children:I.type})})]},I.name))})]})}):e.jsxs("div",{className:"text-center py-10 text-gray-500 dark:text-gray-400",children:["No ",n," found."]})});return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 text-gray-900 dark:text-gray-100 font-sans",children:e.jsxs("div",{className:"container mx-auto p-4 md:p-8",children:[e.jsxs("header",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Google Tag Manager Dashboard"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Select an account to view its detailed report."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsxs("aside",{className:"lg:col-span-1",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 px-2",children:"GTM Accounts"}),e.jsx("div",{className:"space-y-1",children:l.map(n=>e.jsx("button",{onClick:()=>p(n.account_id),className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium transition-colors ${f===n.account_id?"bg-gray-200 dark:bg-gray-800 text-gray-900 dark:text-gray-100":"hover:bg-gray-200/50 dark:hover:bg-gray-800/50"}`,children:n.name},n.account_id))})]}),e.jsx("main",{className:"lg:col-span-3",children:o?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-gray-900 dark:border-gray-100"})}):x?e.jsxs("div",{className:"space-y-6",children:[e.jsxs(L,{children:[e.jsxs(B,{children:[e.jsx(M,{children:x.account_info.name}),e.jsxs(V,{children:["Account ID: ",x.account_info.account_id]})]}),e.jsx(z,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Containers"}),e.jsx("p",{className:"font-semibold text-lg",children:x.summary.containers_count})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Workspaces"}),e.jsx("p",{className:"font-semibold text-lg",children:x.summary.total_workspaces})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Generated"}),e.jsx("p",{className:"font-semibold",children:new Date(x.generated_at).toLocaleDateString()})]})]})})]}),e.jsx(he,{type:"single",collapsible:!0,className:"w-full",defaultValue:(q=(Q=x.containers)==null?void 0:Q[0])==null?void 0:q.container_info.container_id,children:x.containers&&x.containers.map(n=>e.jsx(me,{value:n.container_info.container_id,children:e.jsxs(L,{children:[e.jsx(B,{className:"p-0",children:e.jsx(je,{children:e.jsxs("div",{className:"p-6 text-left",children:[e.jsx(M,{children:n.container_info.name}),e.jsxs(V,{className:"mt-1",children:[n.container_info.public_id,e.jsx(J,{variant:"primary",className:"ml-2",children:n.container_info.usage_context.join(", ")})]})]})})}),e.jsx(ge,{children:e.jsx("div",{className:"px-6 pb-6",children:n.workspaces.map(b=>e.jsxs(L,{className:"bg-gray-50 dark:bg-gray-900/50",children:[e.jsxs(B,{children:[e.jsx(M,{className:"text-lg",children:b.workspace_info.name}),e.jsxs(V,{children:["Workspace ID: ",b.workspace_info.workspace_id]})]}),e.jsx(z,{children:e.jsx(D,{workspace:b})})]},b.workspace_info.workspace_id))})})]})},n.container_info.container_id))})]}):e.jsx("div",{className:"flex items-center justify-center h-96 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-xl",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-200",children:"No Report Data"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Select an account to view its report or the data is unavailable."})]})})})]})]})})}function De(){const{stats:s,report:t}=se().props;return e.jsxs(re,{children:[e.jsx(te,{title:"Profile"}),e.jsx("div",{className:"flex flex-1 flex-col",children:e.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2",children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100 dark:from-gray-900 dark:to-slate-800",children:e.jsx("div",{className:"border-b bg-white/50 dark:bg-gray-900/50 backdrop-blur-sm",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs(W,{defaultValue:"console",className:"w-full",children:[e.jsxs(G,{className:"grid grid-cols-3 w-full",children:[e.jsx(_,{value:"console",children:"Google Search Console"}),e.jsx(_,{value:"gtm",children:"Google Tag Manager"}),e.jsx(_,{value:"seo",children:"Website SEO Analysis"})]}),e.jsx(k,{value:"console",children:t.length!==0?e.jsx(ae,{data:t}):e.jsx("p",{className:"text-gray-500",children:"No data available"})}),e.jsx(k,{value:"seo",children:e.jsx(ie,{data:s})}),e.jsx(k,{value:"gtm",children:e.jsx(be,{})})]})})})})})})]})}export{De as default};
