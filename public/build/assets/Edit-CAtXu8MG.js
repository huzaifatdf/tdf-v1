import{q as w,r as n,j as e,$ as E,m as h}from"./app-CktOtEvh.js";import{A as F}from"./AuthenticatedLayout-1i9ljuk-.js";import{I as j,B as m,X as M}from"./toast-BQpTTY4v.js";import{T as I}from"./textarea-DV6T93nR.js";import{S as P,a as q,b as C,c as L,d as g}from"./select-Cz1M6_C4.js";import{c as U,a as D,b as d,F as T,d as $,e as c,E as o}from"./index.esm-q0O-401u.js";import R from"./Model-RcKzKkWK.js";import"./createLucideIcon-h-CpBew4.js";import"./index-BrKBZYIS.js";import"./index-BrDkfFZr.js";import"./chevron-down-CAA2UiVM.js";import"./alert-Bp6en_03.js";import"./Modal-C78TCEwS.js";import"./transition-B3jM6kMi.js";import"./search-DymAXyQS.js";import"./trash-2-CzmHsuWV.js";import"./video-C_gBWQSk.js";import"./upload-BukWnUuP.js";import"./download-BGB89mCk.js";import"./eye-ZHtQm2zM.js";function oe(){const{ourclient:t,appUrl:f}=w().props,[r,u]=n.useState(f+"/"+t.image||null),b=U({name:d().required("Name is required").min(2,"Name must be at least 2 characters").max(255,"Name must not exceed 255 characters"),description:d().notRequired().max(1e3,"Description must not exceed 1000 characters"),status:d().required("Status is required").oneOf(["published","draft"],"Invalid status"),priority:D().required("Priority is required").min(0,"Priority must be at least 0").max(100,"Priority must not exceed 100")}),N=(a,{setSubmitting:s})=>{const i=new FormData;["name","description","status","priority"].forEach(l=>{i.append(l,a[l])}),i.append("image",a.image),i.append("_method","PUT"),h.post(route("ourclient.update",t.id),i,{forceFormData:!0,onSuccess:()=>{s(!1)},onError:l=>{s(!1)}})},v=(a,s,i)=>{a(s,null),i(null)},y=()=>({name:t.name||"",description:t.description||"",image:t.image||null,status:t.status||"",priority:t.priority||0}),[S,p]=n.useState(!1),[V,k]=n.useState(!1);return e.jsxs(F,{children:[e.jsx(E,{title:`Edit ourclient - ${t.name}`}),e.jsx("div",{className:"flex flex-1 flex-col",children:e.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2 p-10",children:e.jsx("div",{className:"w-full",children:e.jsx(T,{initialValues:y(),validationSchema:b,onSubmit:N,children:({isSubmitting:a,setFieldValue:s,values:i})=>e.jsxs($,{className:"space-y-6 bg-white p-6 rounded-lg shadow",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit ourclient"}),e.jsx("p",{className:"text-gray-600",children:"Update ourclient information"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Client Name *"}),e.jsx(c,{as:j,id:"name",name:"name",placeholder:"Enter name"}),e.jsx(o,{name:"name",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),e.jsx(c,{as:I,id:"description",name:"description",placeholder:"Enter ourclient description",rows:4}),e.jsx(o,{name:"description",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Status *"}),e.jsxs(P,{name:"status",value:i.status,onValueChange:x=>s("status",x),children:[e.jsx(q,{children:e.jsx(C,{placeholder:"Select status"})}),e.jsxs(L,{children:[e.jsx(g,{value:"published",children:"Published"}),e.jsx(g,{value:"draft",children:"Draft"})]})]}),e.jsx(o,{name:"status",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"priority",className:"text-sm font-medium",children:"Priority (0-100) *"}),e.jsx(c,{as:j,id:"priority",name:"priority",type:"number",min:"0",max:"100",placeholder:"0"}),e.jsx(o,{name:"priority",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"image",className:"text-sm font-medium",children:"ourclient Image"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:[e.jsx("button",{type:"button",onClick:()=>p(!0),children:r?"Change Media":"Add Media"}),e.jsx(R,{routename:route("ourclient.edit",t.id),showModal:S,setShowModal:p,setFieldValue:s,fieldName:"image",setImagePreview:u}),r&&e.jsxs("div",{className:"relative mt-4",children:[e.jsx("img",{src:typeof r=="string"?r:URL.createObjectURL(r),alt:"ourclient Preview",className:"w-24 h-24 object-cover rounded-lg mx-auto"}),e.jsx(m,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2",onClick:()=>v(s,"image",u),children:e.jsx(M,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(m,{type:"button",variant:"outline",onClick:()=>h.get(route("ourclient.index")),children:"Cancel"}),e.jsx(m,{type:"submit",disabled:a,children:a?"Updating...":"Update client"})]})]})})})})})]})}export{oe as default};
