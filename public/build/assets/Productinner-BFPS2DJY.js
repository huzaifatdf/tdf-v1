import{R as w,d as R,j as e,m as T,r as N,q as A,Y as I}from"./app-C2QqCeFO.js";import{g as _,W,S as H}from"./WebsiteLayout-D3EHFFMD.js";import{p as y}from"./index-BzIlQOFu.js";import"./toaster-I0XddCs0.js";import"./toast-9X2IdYQj.js";import"./index-BDZ2WC8Q.js";function M(h){const[c,d]=w.useState(!1),[p,b]=w.useState(null),[n,j]=w.useState({}),[o,S]=w.useState({}),[L,P]=w.useState(!1),[C,k]=w.useState({}),[$,s]=w.useState(!1),{product:m}=h;w.useEffect(()=>{R.get("/api/v1/form/product-form").then(t=>{console.log(t.data),b(t.data.form);const r={};t.data.fields.forEach(a=>{a.type==="checkbox"&&a.options?r[a.name]=[]:a.default_value?r[a.name]=a.default_value:r[a.name]=""}),j(r)}).catch(t=>{console.error("Error fetching form:",t)})},[]);const x=(t,r)=>{j(a=>({...a,[t]:r})),C[t]&&k(a=>({...a,[t]:null}))},f=(t,r)=>{r&&(S(a=>({...a,[t]:r})),j(a=>({...a,[t]:r.name})))},v=(t,r,a)=>{j(u=>{const l=u[t]||[];return a?{...u,[t]:[...l,r]}:{...u,[t]:l.filter(g=>g!==r)}})},q=async t=>{t.preventDefault(),s(!0),k({});try{const r=new FormData;console.log(n),n.field_product=m,Object.keys(n).forEach(l=>{Array.isArray(n[l])?n[l].forEach(g=>{r.append(`${l}[]`,g)}):r.append(l,n[l]||"")}),Object.keys(o).forEach(l=>{o[l]&&r.append(l,o[l])});const a=T.post(route("client.submit.form",p.slug),r,{preserveScroll:!0,preserveState:!0,headers:{"Content-Type":"multipart/form-data"}});let u={};p.fields.forEach(l=>{var g;if(l.type==="radio"&&l.options){const F=tabStates==null?void 0:tabStates[l.name],i=((g=l.options)==null?void 0:g[F])||"";u[l.name]=i}else l.type==="checkbox"&&l.options?u[l.name]=[]:u[l.name]=""}),j(u),S({}),d(!1)}catch(r){console.error("Form submission error:",r),r.response&&r.response.data&&r.response.data.errors?k(r.response.data.errors):alert("There was an error submitting the form. Please try again.")}finally{s(!1)}},O=t=>{var F;const r=n[t.name]||"",a=C[t.name],u=`field-${t.name}`,l="w-full bg-transparent ",g=a?"border-red-500":"";switch(t.type){case"text":case"email":case"url":case"tel":return e.jsxs("div",{className:t.width==="half"?"w-full md:w-[45%]":"w-full",children:[e.jsx("input",{id:u,type:t.type,value:r,onChange:i=>x(t.name,i.target.value),placeholder:t.placeholder||t.label,required:t.required,maxLength:t.max_length,minLength:t.min_length,className:`${l} ${g}`}),a&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a})]},t.id);case"number":return e.jsxs("div",{className:t.width==="half"?"w-full md:w-[45%]":"w-full",children:[e.jsx("input",{id:u,type:"number",value:r,onChange:i=>x(t.name,i.target.value),placeholder:t.placeholder||t.label,required:t.required,className:`${l} ${g}`}),a&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a})]},t.id);case"textarea":return e.jsxs("div",{className:"w-full",children:[e.jsx("textarea",{id:u,value:r,onChange:i=>x(t.name,i.target.value),placeholder:t.placeholder||t.label,required:t.required,maxLength:t.max_length,minLength:t.min_length,rows:4,className:`${l} ${g}`}),a&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a})]},t.id);case"select":return e.jsxs("div",{className:t.width==="half"?"w-full md:w-[45%]":"w-full",children:[e.jsxs("select",{id:u,value:r,onChange:i=>x(t.name,i.target.value),required:t.required,className:`${l} ${g}`,children:[e.jsx("option",{value:"",children:t.placeholder||`Select ${t.label}`}),t.options&&Object.entries(t.options).map(([i,E])=>e.jsx("option",{value:i,children:E},i))]}),a&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a})]},t.id);case"radio":return e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-white mb-2",children:t.label}),e.jsx("div",{className:"space-y-2",children:t.options&&Object.entries(t.options).map(([i,E])=>e.jsxs("label",{className:"flex items-center text-white",children:[e.jsx("input",{type:"radio",name:t.name,value:i,checked:r===i,onChange:D=>x(t.name,D.target.value),required:t.required,className:"mr-2"}),E]},i))}),a&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a})]},t.id);case"checkbox":return t.options&&Object.keys(t.options).length>1?e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-white mb-2",children:t.label}),e.jsx("div",{className:"space-y-2",children:Object.entries(t.options).map(([i,E])=>e.jsxs("label",{className:"flex items-center text-white",children:[e.jsx("input",{type:"checkbox",checked:(r||[]).includes(i),onChange:D=>v(t.name,i,D.target.checked),className:"mr-2"}),E]},i))}),a&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a})]},t.id):e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"flex items-center text-white",children:[e.jsx("input",{type:"checkbox",checked:!!r,onChange:i=>x(t.name,i.target.checked),className:"mr-2"}),t.placeholder||t.label]}),a&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a})]},t.id);case"file":return e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-white mb-2",children:t.label}),e.jsx("input",{id:u,type:"file",onChange:i=>f(t.name,i.target.files[0]),required:t.required,accept:((F=t.options)==null?void 0:F.accept)||"*",className:"w-full p-3 bg-transparent border border-gray-600 rounded-md text-white file:bg-purple-600 file:text-white file:border-none file:rounded file:px-4 file:py-2 file:mr-4"}),o[t.name]&&e.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Selected: ",o[t.name].name]}),a&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a})]},t.id);case"date":return e.jsxs("div",{className:t.width==="half"?"w-full md:w-[45%]":"w-full",children:[e.jsx("input",{id:u,type:"date",value:r,onChange:i=>x(t.name,i.target.value),required:t.required,className:`${l} ${g}`}),a&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a})]},t.id);case"hidden":return e.jsx("input",{type:"hidden",name:t.name,value:r||t.default_value||""},t.id);default:return e.jsxs("div",{className:t.width==="half"?"w-full md:w-[45%]":"w-full",children:[e.jsx("input",{id:u,type:"text",value:r,onChange:i=>x(t.name,i.target.value),placeholder:t.placeholder||t.label,required:t.required,className:`${l} ${g}`}),a&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a})]},t.id)}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"",children:[p&&p.fields&&e.jsx("form",{onSubmit:q,className:"",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6 py-6 transform transition-transform duration-500 ease-in-out",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:flex-wrap gap-4 text-white justify-between",children:p.fields.map(t=>O(t))}),e.jsxs("button",{type:"submit",disabled:$,className:"group flex items-center justify-content-end gap-2 bg-transparent border-none fc-primary transition-colors duration-300 text-lg font-medium cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:[$?"Submitting...":p.submit_button_text||"Submit",e.jsx("span",{className:"fc-purple group-hover:translate-x-1 transition-transform",children:"→"})]})]})}),!p&&e.jsx("div",{className:"flex items-center justify-center text-white",children:e.jsx("p",{children:"Loading form..."})})]})})}_.registerPlugin(H);function Z(){const h=N.useRef(null),{product:c,appUrl:d,previousSlug:p,nextSlug:b}=A().props,n=JSON.parse(c.data);return N.useEffect(()=>{const j=h.current;_.from(j,{y:50,opacity:0,duration:1,scrollTrigger:{trigger:j,start:"top 80%",end:"bottom center",toggleActions:"play none none reverse"}})},[]),e.jsxs(W,{title:`${c.title} | Product | TDF Agency`,description:"Explore our portfolio of successful digital transformations and client success stories.",children:[e.jsxs("section",{ref:h,className:"flex items-center bg-dark-950 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-50"}),e.jsx("div",{className:"container-fluid relative mt-[150px]",children:e.jsxs("div",{className:"banner-inner-page  flex flex-col md:flex-row gap-12 items-start align-items-center",children:[e.jsxs("div",{className:"md:w-1/2",children:[e.jsx("h1",{className:"text-[40px] fc-secondary leading-tight mb-6",children:c.title}),e.jsx("img",{src:`${d}/${c==null?void 0:c.image}`,alt:"HabibMetro Bank Project Overview",className:"w-full h-[50vh] object-cover mt-3 mb-5"})]}),e.jsx("div",{className:"md:w-1/2",children:e.jsx("div",{className:"prose prose-lg prose-invert",children:e.jsxs("p",{className:"mobile-banner-para text-[18px] fc-primary leading-relaxed mb-6 mobile-screens",children:[" ",y(c.description)]})})})]})})]}),e.jsx(B,{product:c.title,jsonData:n}),e.jsxs("div",{className:"container-fluid ",children:[e.jsx("div",{className:"py-16 relative",children:e.jsx("div",{className:"leading-relaxed mobile-screens",children:e.jsx("p",{className:"text-[18px] fc-primary leading-relaxed mb-2",children:y(n.Detail.detail_overview)})})}),e.jsx("hr",{className:"border-white mb-8"})]}),e.jsx(V,{problem:n.Problem,solutions:n["problem Solutions"]}),e.jsxs("section",{className:"py-5 container-fluid flex flex-col md:flex-row items-center justify-between gap-10 relative",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-[32px] fc-secondary leading-tight mb-6",children:n["Our Work"].title}),e.jsx("p",{className:"text-[18px] text-white leading-relaxed mobile-screens",children:y(n["Our Work"].description)}),e.jsx("div",{className:"mt-6",children:e.jsxs(I,{href:"/case-studies",className:"mt-6 group flex items-center gap-2 bg-transparent border-none fc-primary hover:text-[#9747FF] transition-colors duration-300 text-lg font-medium cursor-pointer",children:["See Our Work ",e.jsx("span",{className:"fc-purple group-hover:translate-x-1 transition-transform",children:"→"})]})})]}),e.jsx("div",{className:"flex-1",children:e.jsx("img",{src:`${d}/${n["Our Work"].image||""}`,alt:"Eduman Demo Devices",className:"w-full"})})]}),e.jsx(U,{preSlug:p,nextSlug:b})]})}function B(h){const{product:c,jsonData:d}=h;return e.jsx("div",{className:"relative py-16 bg-[#040404]",children:e.jsxs("div",{className:"container-fluid",children:[e.jsx("h2",{className:"text-[32px] fc-secondary leading-tight mb-9",children:d.CTA?d.CTA.label:"Uncover the Benefits Now!"}),e.jsx("div",{className:"space-y-8",children:e.jsx(M,{product:c})})]})})}function Y(h){if(!h||typeof h!="object")return[];const c={};return Object.keys(h).forEach(d=>{const p=d.match(/(label|description)_(\d+)/);if(!p)return;const[,b,n]=p;c[n]||(c[n]={id:`0${n}`}),c[n][b]=h[d]}),Object.values(c).filter(d=>d.label!=null).map(d=>({id:d.id.padStart(2,"0"),title:d.label,description:d.description||""}))}function V(h){const[c,d]=N.useState("01"),p=N.useRef(null),b=N.useRef(null),{problem:n,solutions:j}=h,o=Y(j),[S,L]=N.useState(new Set);N.useEffect(()=>{o.length>0&&!o.find(s=>s.id===c)&&d(o[0].id)},[o]),N.useEffect(()=>{const s=p.current;s&&_.from(s,{y:50,opacity:0,duration:1,scrollTrigger:{trigger:s,start:"top 80%",end:"bottom center",toggleActions:"play none none reverse"}})},[]),N.useEffect(()=>{const s=b.current;if(!s||o.length===0)return;const m=()=>{var a;const x=s.scrollTop,f=s.clientHeight,v=s.scrollHeight-f;if(v<=0)return;const q=x/v,O=Math.floor(q*o.length),t=Math.max(0,Math.min(O,o.length-1)),r=(a=o[t])==null?void 0:a.id;r&&r!==c&&d(r)};return s.addEventListener("scroll",m),()=>s.removeEventListener("scroll",m)},[o,c]);const P=s=>{d(s);const m=b.current;if(m&&o.length>0){const x=o.findIndex(f=>f.id===s);if(x!==-1){const f=m.scrollHeight-m.clientHeight,v=x/(o.length-1)*f;m.scrollTo({top:v,behavior:"smooth"})}}},C=s=>{const m=new Set(S);m.has(s)?m.delete(s):m.add(s),L(m)},k=s=>Math.ceil(s.length/90)>6,$=s=>{if(s.length<=540)return s;const x=s.substring(0,540),f=x.lastIndexOf("."),v=x.lastIndexOf(" ");return f>540*.8?s.substring(0,f+1):v>540*.8?s.substring(0,v):x};return o.find(s=>s.id===c),e.jsxs(e.Fragment,{children:[e.jsx("section",{ref:p,className:"container-fluid min-h-screen content-style mobile-screens",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-1/2 sticky top-0 h-screen flex flex-col justify-center",children:e.jsxs("div",{className:"max-w-lg",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("h1",{className:"text-[32px] fc-secondary leading-tight mb-6",children:(n==null?void 0:n.problem)||"What Problem?"}),(n==null?void 0:n.problem_description)&&e.jsx("p",{className:"text-[18px] fc-primary leading-relaxed",children:n!=null&&n.problem_description?y(n==null?void 0:n.problem_description):"..."})]}),e.jsx("nav",{className:"space-y-8",children:o.map((s,m)=>e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{onClick:()=>P(s.id),className:`text-left w-full transition-all duration-500 ${c===s.id?"opacity-100":"hover:opacity-70"}`,children:[e.jsx("h5",{className:`text-[18px] mb-0 transition-all duration-500 ${c===s.id?"fc-purple":"fc-white"}`,children:s.id}),e.jsx("h3",{className:`text-[20px] transition-all duration-500 ${c===s.id?"fc-secondary":"fc-white"}`,children:s.title})]}),c===s.id&&e.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-10 bg-[#9BE500] transition-all duration-500"})]},s.id))})]})}),e.jsx("div",{className:"w-1/2 h-screen overflow-y-auto",ref:b,children:e.jsx("div",{className:"min-h-full",children:o.map((s,m)=>e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"max-w-xl w-full",children:e.jsxs("div",{className:"animate-fadeIn",children:[e.jsx("p",{className:"text-[18px] fc-primary mb-8 leading-relaxed",children:k(s.description)?e.jsx(e.Fragment,{children:S.has(s.id)?e.jsxs(e.Fragment,{children:[y(s.description),e.jsx("button",{onClick:()=>C(s.id),className:"block mt-4 text-purple-400 hover:text-purple-300 transition-colors duration-300 font-medium",children:"Read Less"})]}):e.jsxs(e.Fragment,{children:[y($(s.description)),e.jsx("span",{className:"text-gray-500",children:"..."}),e.jsx("button",{onClick:()=>C(s.id),className:"block mt-4 text-purple-400 hover:text-purple-300 transition-colors duration-300 font-medium",children:"Read More"})]})}):y(s.description)}),e.jsx("hr",{className:"border-white mb-8"})]})})},s.id))})})]})}),e.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(30px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-fadeIn {
          animation: fadeIn 0.8s ease-out forwards;
        }
      `})]})}const U=({preSlug:h,nextSlug:c})=>e.jsxs(e.Fragment,{children:[c&&e.jsx("div",{className:"fixed top-0 bottom-0 right-[-25px] flex items-center",children:e.jsx(I,{href:route("web.product.show",{slug:c}),children:e.jsx("img",{src:"/images/right.svg",alt:"Float Icon",className:"w-24 h-24"})})}),h&&e.jsx("div",{className:"fixed top-0 bottom-0 left-[-25px] flex items-center",children:e.jsx(I,{href:route("web.product.show",{slug:h}),children:e.jsx("img",{src:"/images/left.svg",alt:"Float Icon",className:"w-24 h-24"})})})]});export{Z as default};
