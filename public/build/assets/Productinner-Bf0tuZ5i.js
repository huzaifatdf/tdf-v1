import{R as y,d as H,j as e,S as z,r as S,J as V,t as D}from"./app-DbwgdvnC.js";import{P as B,g as R,W as U,S as J}from"./WebsiteLayout-DMab0tl_.js";import{p as E}from"./index-BBkoI5yd.js";import{b as k,f as Y,d as G,e as K,g as Q,a as X,c as Z}from"./index.esm-BDYBA3Nh.js";import"./toaster-0JB7rutr.js";import"./toast-DRDiSL-L.js";import"./index-D9BjrbRp.js";function ee(x){const[o,u]=y.useState(!1),[p,N]=y.useState(null),[i,f]=y.useState({}),[m,q]=y.useState({}),[A,M]=y.useState(!1),[P,$]=y.useState({}),[F,r]=y.useState(!1),{product:h}=x,[b,v]=y.useState(null),w=t=>{const n={};return t.some(s=>s.name==="field_product")&&(t=t.filter(s=>s.name!=="field_product")),t.forEach(s=>{var c,d;let a;switch(s.type){case"text":a=k(),s.required&&(a=a.required(`${s.label} is required`)),a=a.min(3,`${s.label} must be at least 3 characters`),a=a.max(255,`${s.label} must be no more than 255 characters`),a=a.matches(/^[^\d]*$/,`${s.label} cannot contain numbers`);break;case"email":a=k().max(255).email("Please enter a valid email address");break;case"url":a=k().url("Please enter a valid URL");break;case"tel":a=k().test("is-valid-phone","Please enter a valid phone number",function(g){return!g&&!s.required?!0:!g&&s.required?!1:g.length>=10});break;case"number":a=X().typeError("Please enter a valid number"),s.min!==void 0&&(a=a.min(s.min,`Minimum value is ${s.min}`)),s.max!==void 0&&(a=a.max(s.max,`Maximum value is ${s.max}`));break;case"date":a=Q().typeError("Please enter a valid date");break;case"checkbox":s.options&&Object.keys(s.options).length>1?(a=G(),s.required&&(a=a.min(1,`Please select at least one ${s.label.toLowerCase()}`))):(a=K(),s.required&&(a=a.oneOf([!0],`${s.label} is required`)));break;case"radio":a=k();break;case"select":a=k();break;case"file":if(a=Y(),s.required&&(a=a.required(`${s.label} is required`)),(c=s.options)!=null&&c.max_size&&(a=a.test("fileSize",`File size must be less than ${s.options.max_size}MB`,g=>!g||g&&g.size<=s.options.max_size*1024*1024)),(d=s.options)!=null&&d.accept){const g=s.options.accept.split(",").map(l=>l.trim());a=a.test("fileType",`File type must be one of: ${g.join(", ")}`,l=>!l||g.some(C=>C==="*"||l.type.includes(C.replace("*",""))))}break;case"textarea":a=k().max(1e3,`${s.label} must be no more than 1000 characters`),s.required&&(a=a.required(`${s.label} is required`));break;default:a=k();break}s.required&&s.type!=="checkbox"&&s.type!=="file"&&(a=a.required(`${s.label} is required`)),s.min_length&&(s.type==="text"||s.type==="textarea")&&(a=a.min(s.min_length,`${s.label} must be at least ${s.min_length} characters`)),s.max_length&&(s.type==="text"||s.type==="textarea")&&(a=a.max(s.max_length,`${s.label} must be no more than ${s.max_length} characters`)),n[s.name]=a}),Z().shape(n)};y.useEffect(()=>{H.get("/api/v1/form/product-form").then(t=>{console.log(t.data),N(t.data.form);const n=w(t.data.fields);v(n);const s={};t.data.fields.forEach(a=>{a.type==="checkbox"&&a.options?s[a.name]=[]:a.default_value?s[a.name]=a.default_value:s[a.name]=""}),f(s)}).catch(t=>{console.error("Error fetching form:",t)})},[]);const I=async(t,n)=>{if(b)try{await b.validateAt(t,{[t]:n}),$(s=>({...s,[t]:null}))}catch(s){$(a=>({...a,[t]:s.message}))}},j=(t,n)=>{f(s=>({...s,[t]:n})),P[t]&&$(s=>({...s,[t]:null})),I(t,n)},L=(t,n)=>{n&&(q(s=>({...s,[t]:n})),f(s=>({...s,[t]:n.name}))),I(t,value)},_=(t,n,s)=>{f(a=>{const c=a[t]||[];return s?{...a,[t]:[...c,n]}:{...a,[t]:c.filter(d=>d!==n)}}),I(t,n)},O=async t=>{t.preventDefault(),r(!0),$({});try{if(b){const c={...i};Object.keys(m).forEach(d=>{m[d]&&(c[d]=m[d])}),await b.validate(c,{abortEarly:!1})}const n=new FormData;console.log(i),i.field_product=h,Object.keys(i).forEach(c=>{Array.isArray(i[c])?i[c].forEach(d=>{n.append(`${c}[]`,d)}):n.append(c,i[c]||"")}),Object.keys(m).forEach(c=>{m[c]&&n.append(c,m[c])});const s=z.post(route("client.submit.form",p.slug),n,{preserveScroll:!0,preserveState:!0,headers:{"Content-Type":"multipart/form-data"}});let a={};p.fields.forEach(c=>{var d;if(c.type==="radio"&&c.options){const g=tabStates==null?void 0:tabStates[c.name],l=((d=c.options)==null?void 0:d[g])||"";a[c.name]=l}else c.type==="checkbox"&&c.options?a[c.name]=[]:a[c.name]=""}),f(a),q({}),u(!1)}catch(n){if(console.error("Form submission error:",n),n.name==="ValidationError"){const s={};n.inner.forEach(a=>{s[a.path]=a.message}),$(s)}else n.response&&n.response.data&&n.response.data.errors?$(n.response.data.errors):alert("There was an error submitting the form. Please try again.")}finally{r(!1)}},W=t=>{var g;const n=i[t.name]||"",s=P[t.name],a=`field-${t.name}`,c="w-full bg-transparent ",d=s?"border-red-500":"";switch(t.type){case"text":case"email":case"url":return e.jsxs("div",{className:t.width==="half"?"w-full md:w-[45%]":"w-full",children:[e.jsx("input",{id:a,type:t.type,value:n,onChange:l=>j(t.name,l.target.value),placeholder:t.placeholder||t.label,required:t.required,maxLength:t.max_length,minLength:t.min_length,className:`${c} ${d}`}),s&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s})]},t.id);case"tel":return e.jsxs("div",{className:t.width==="half"?"w-full md:w-[45%]":"w-full",children:[e.jsx(B,{id:a,international:!0,countryCallingCodeEditable:!1,defaultCountry:"PK",value:n,onChange:l=>j(t.name,l||""),placeholder:t.placeholder||t.label,className:`phone-input ${d}`,style:{"--PhoneInput-color":"#ffffff","--PhoneInputInternationalIconPhone-opacity":"0.8","--PhoneInputInternationalIconGlobe-opacity":"0.65","--PhoneInputCountrySelect-marginRight":"0.5rem","--PhoneInputCountrySelectArrow-width":"0.3rem","--PhoneInputCountrySelectArrow-marginLeft":"0.5rem","border-bottom":"1px solid #91a7ba"},numberInputProps:{className:`w-full bg-transparent text-white placeholder-gray-400 border-0 outline-none ${d}`,style:{background:"transparent",border:"none",outline:"none",color:"white",fontSize:"16px"}},countrySelectProps:{className:"bg-transparent text-black",style:{background:"transparent",border:"none",outline:"none",color:"white"}}}),s&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s})]},t.id);case"number":return e.jsxs("div",{className:t.width==="half"?"w-full md:w-[45%]":"w-full",children:[e.jsx("input",{id:a,type:"number",value:n,onChange:l=>j(t.name,l.target.value),placeholder:t.placeholder||t.label,required:t.required,className:`${c} ${d}`}),s&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s})]},t.id);case"textarea":return e.jsxs("div",{className:"w-full",children:[e.jsx("textarea",{id:a,value:n,onChange:l=>j(t.name,l.target.value),placeholder:t.placeholder||t.label,required:t.required,maxLength:t.max_length,minLength:t.min_length,rows:4,className:`${c} ${d}`}),s&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s})]},t.id);case"select":return e.jsxs("div",{className:t.width==="half"?"w-full md:w-[45%]":"w-full",children:[e.jsxs("select",{id:a,value:n,onChange:l=>j(t.name,l.target.value),required:t.required,className:`${c} ${d}`,children:[e.jsx("option",{value:"",children:t.placeholder||`Select ${t.label}`}),t.options&&Object.entries(t.options).map(([l,C])=>e.jsx("option",{value:l,children:C},l))]}),s&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s})]},t.id);case"radio":return e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-white mb-2",children:t.label}),e.jsx("div",{className:"space-y-2",children:t.options&&Object.entries(t.options).map(([l,C])=>e.jsxs("label",{className:"flex items-center text-white",children:[e.jsx("input",{type:"radio",name:t.name,value:l,checked:n===l,onChange:T=>j(t.name,T.target.value),required:t.required,className:"mr-2"}),C]},l))}),s&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s})]},t.id);case"checkbox":return t.options&&Object.keys(t.options).length>1?e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-white mb-2",children:t.label}),e.jsx("div",{className:"space-y-2",children:Object.entries(t.options).map(([l,C])=>e.jsxs("label",{className:"flex items-center text-white",children:[e.jsx("input",{type:"checkbox",checked:(n||[]).includes(l),onChange:T=>_(t.name,l,T.target.checked),className:"mr-2"}),C]},l))}),s&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s})]},t.id):e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"flex items-center text-white",children:[e.jsx("input",{type:"checkbox",checked:!!n,onChange:l=>j(t.name,l.target.checked),className:"mr-2"}),t.placeholder||t.label]}),s&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s})]},t.id);case"file":return e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-white mb-2",children:t.label}),e.jsx("input",{id:a,type:"file",onChange:l=>L(t.name,l.target.files[0]),required:t.required,accept:((g=t.options)==null?void 0:g.accept)||"*",className:"w-full p-3 bg-transparent border border-gray-600 rounded-md text-white file:bg-purple-600 file:text-white file:border-none file:rounded file:px-4 file:py-2 file:mr-4"}),m[t.name]&&e.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Selected: ",m[t.name].name]}),s&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s})]},t.id);case"date":return e.jsxs("div",{className:t.width==="half"?"w-full md:w-[45%]":"w-full",children:[e.jsx("input",{id:a,type:"date",value:n,onChange:l=>j(t.name,l.target.value),required:t.required,className:`${c} ${d}`}),s&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s})]},t.id);case"hidden":return e.jsx("input",{type:"hidden",name:t.name,value:n||t.default_value||""},t.id);default:return e.jsxs("div",{className:t.width==="half"?"w-full md:w-[45%]":"w-full",children:[e.jsx("input",{id:a,type:"text",value:n,onChange:l=>j(t.name,l.target.value),placeholder:t.placeholder||t.label,required:t.required,className:`${c} ${d}`}),s&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s})]},t.id)}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"",children:[p&&p.fields&&e.jsx("form",{onSubmit:O,className:"",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6 py-6 transform transition-transform duration-500 ease-in-out",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:flex-wrap gap-4 text-white justify-between",children:p.fields.map(t=>W(t))}),e.jsxs("button",{type:"submit",disabled:F,className:"group flex items-center justify-content-end gap-2 bg-transparent border-none fc-primary transition-colors duration-300 text-lg font-medium cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:[F?"Submitting...":p.submit_button_text||"Submit",e.jsx("span",{className:"fc-purple group-hover:translate-x-1 transition-transform",children:"→"})]})]})}),!p&&e.jsx("div",{className:"flex items-center justify-center text-white",children:e.jsx("p",{children:"Loading form..."})})]})})}R.registerPlugin(J);function ue(){const x=S.useRef(null),{product:o,appUrl:u,previousSlug:p,nextSlug:N}=V().props,i=JSON.parse(o.data);return S.useEffect(()=>{const f=x.current;R.from(f,{y:50,opacity:0,duration:1,scrollTrigger:{trigger:f,start:"top 80%",end:"bottom center",toggleActions:"play none none reverse"}})},[]),e.jsxs(U,{title:`${o.title} | Product | TDF Agency`,description:"Explore our portfolio of successful digital transformations and client success stories.",children:[e.jsxs("section",{ref:x,className:"flex items-center bg-dark-950 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-50"}),e.jsx("div",{className:"container-fluid relative mt-[150px]",children:e.jsxs("div",{className:"banner-inner-page  flex flex-col md:flex-row gap-12 items-start align-items-center",children:[e.jsxs("div",{className:"md:w-1/2",children:[e.jsx("h1",{className:"text-[40px] fc-secondary leading-tight mb-6",children:o.title}),e.jsx("img",{src:`${u}/${o==null?void 0:o.image}`,alt:"HabibMetro Bank Project Overview",className:"w-full h-[50vh] object-cover mt-3 mb-5"})]}),e.jsx("div",{className:"md:w-1/2",children:e.jsx("div",{className:"prose prose-lg prose-invert",children:e.jsxs("p",{className:"mobile-banner-para text-[18px] fc-primary leading-relaxed mb-6 mobile-screens",children:[" ",E(o.description)]})})})]})})]}),e.jsx(te,{product:o.title,jsonData:i}),e.jsxs("div",{className:"container-fluid ",children:[e.jsx("div",{className:"py-16 relative",children:e.jsx("div",{className:"leading-relaxed mobile-screens",children:e.jsx("p",{className:"text-[18px] fc-primary leading-relaxed mb-2",children:E(i.Detail.detail_overview)})})}),e.jsx("hr",{className:"border-white mb-8"})]}),e.jsx(ae,{problem:i.Problem,solutions:i["problem Solutions"]}),e.jsxs("section",{className:"py-5 container-fluid flex flex-col md:flex-row items-center justify-between gap-10 relative",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-[32px] fc-secondary leading-tight mb-6",children:i["Our Work"].title}),e.jsx("p",{className:"text-[18px] text-white leading-relaxed mobile-screens",children:E(i["Our Work"].description)}),e.jsx("div",{className:"mt-6",children:e.jsxs(D,{href:"/case-studies",className:"mt-6 group flex items-center gap-2 bg-transparent border-none fc-primary hover:text-[#9747FF] transition-colors duration-300 text-lg font-medium cursor-pointer",children:["See Our Work ",e.jsx("span",{className:"fc-purple group-hover:translate-x-1 transition-transform",children:"→"})]})})]}),e.jsx("div",{className:"flex-1",children:e.jsx("img",{src:`${u}/${i["Our Work"].image||""}`,alt:"Eduman Demo Devices",className:"w-full"})})]}),e.jsx(re,{preSlug:p,nextSlug:N})]})}function te(x){const{product:o,jsonData:u}=x;return e.jsx("div",{className:"relative py-16 bg-[#040404]",children:e.jsxs("div",{className:"container-fluid",children:[e.jsx("h2",{className:"text-[32px] fc-secondary leading-tight mb-9",children:u.CTA?u.CTA.label:"Uncover the Benefits Now!"}),e.jsx("div",{className:"space-y-8",children:e.jsx(ee,{product:o})})]})})}function se(x){if(!x||typeof x!="object")return[];const o={};return Object.keys(x).forEach(u=>{const p=u.match(/(label|description)_(\d+)/);if(!p)return;const[,N,i]=p;o[i]||(o[i]={id:`0${i}`}),o[i][N]=x[u]}),Object.values(o).filter(u=>u.label!=null).map(u=>({id:u.id.padStart(2,"0"),title:u.label,description:u.description||""}))}function ae(x){const[o,u]=S.useState("01"),p=S.useRef(null),N=S.useRef(null),{problem:i,solutions:f}=x,m=se(f),[q,A]=S.useState(new Set);S.useEffect(()=>{m.length>0&&!m.find(r=>r.id===o)&&u(m[0].id)},[m]),S.useEffect(()=>{const r=p.current;r&&R.from(r,{y:50,opacity:0,duration:1,scrollTrigger:{trigger:r,start:"top 80%",end:"bottom center",toggleActions:"play none none reverse"}})},[]),S.useEffect(()=>{const r=N.current;if(!r||m.length===0)return;const h=()=>{var O;const b=r.scrollTop,v=r.clientHeight,w=r.scrollHeight-v;if(w<=0)return;const I=b/w,j=Math.floor(I*m.length),L=Math.max(0,Math.min(j,m.length-1)),_=(O=m[L])==null?void 0:O.id;_&&_!==o&&u(_)};return r.addEventListener("scroll",h),()=>r.removeEventListener("scroll",h)},[m,o]);const M=r=>{u(r);const h=N.current;if(h&&m.length>0){const b=m.findIndex(v=>v.id===r);if(b!==-1){const v=h.scrollHeight-h.clientHeight,w=b/(m.length-1)*v;h.scrollTo({top:w,behavior:"smooth"})}}},P=r=>{const h=new Set(q);h.has(r)?h.delete(r):h.add(r),A(h)},$=r=>Math.ceil(r.length/90)>6,F=r=>{if(r.length<=540)return r;const b=r.substring(0,540),v=b.lastIndexOf("."),w=b.lastIndexOf(" ");return v>540*.8?r.substring(0,v+1):w>540*.8?r.substring(0,w):b};return m.find(r=>r.id===o),e.jsxs(e.Fragment,{children:[e.jsx("section",{ref:p,className:"container-fluid min-h-screen content-style mobile-screens",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-1/2 sticky top-0 h-screen flex flex-col justify-center",children:e.jsxs("div",{className:"max-w-lg",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("h1",{className:"text-[32px] fc-secondary leading-tight mb-6",children:(i==null?void 0:i.problem)||"What Problem?"}),(i==null?void 0:i.problem_description)&&e.jsx("p",{className:"text-[18px] fc-primary leading-relaxed",children:i!=null&&i.problem_description?E(i==null?void 0:i.problem_description):"..."})]}),e.jsx("nav",{className:"space-y-8",children:m.map((r,h)=>e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{onClick:()=>M(r.id),className:`text-left w-full transition-all duration-500 ${o===r.id?"opacity-100":"hover:opacity-70"}`,children:[e.jsx("h5",{className:`text-[18px] mb-0 transition-all duration-500 ${o===r.id?"fc-purple":"fc-white"}`,children:r.id}),e.jsx("h3",{className:`text-[20px] transition-all duration-500 ${o===r.id?"fc-secondary":"fc-white"}`,children:r.title})]}),o===r.id&&e.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-10 bg-[#9BE500] transition-all duration-500"})]},r.id))})]})}),e.jsx("div",{className:"w-1/2 h-screen overflow-y-auto",ref:N,children:e.jsx("div",{className:"min-h-full",children:m.map((r,h)=>e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"max-w-xl w-full",children:e.jsxs("div",{className:"animate-fadeIn",children:[e.jsx("p",{className:"text-[18px] fc-primary mb-8 leading-relaxed",children:$(r.description)?e.jsx(e.Fragment,{children:q.has(r.id)?e.jsxs(e.Fragment,{children:[E(r.description),e.jsx("button",{onClick:()=>P(r.id),className:"block mt-4 text-purple-400 hover:text-purple-300 transition-colors duration-300 font-medium",children:"Read Less"})]}):e.jsxs(e.Fragment,{children:[E(F(r.description)),e.jsx("span",{className:"text-gray-500",children:"..."}),e.jsx("button",{onClick:()=>P(r.id),className:"block mt-4 text-purple-400 hover:text-purple-300 transition-colors duration-300 font-medium",children:"Read More"})]})}):E(r.description)}),e.jsx("hr",{className:"border-white mb-8"})]})})},r.id))})})]})}),e.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(30px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-fadeIn {
          animation: fadeIn 0.8s ease-out forwards;
        }
      `})]})}const re=({preSlug:x,nextSlug:o})=>e.jsxs(e.Fragment,{children:[o&&e.jsx("div",{className:"fixed top-0 bottom-0 right-[-25px] flex items-center",children:e.jsx(D,{href:route("web.product.show",{slug:o}),children:e.jsx("img",{src:"/images/right.svg",alt:"Float Icon",className:"w-24 h-24"})})}),x&&e.jsx("div",{className:"fixed top-0 bottom-0 left-[-25px] flex items-center",children:e.jsx(D,{href:route("web.product.show",{slug:x}),children:e.jsx("img",{src:"/images/left.svg",alt:"Float Icon",className:"w-24 h-24"})})})]});export{ue as default};
