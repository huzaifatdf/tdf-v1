import{r as p,j as e,q as S,$ as _}from"./app-C1RGjJO3.js";import{A as D}from"./AuthenticatedLayout-BPnGOycM.js";import{C as n,a as d,b as x,c as o}from"./card-BKBAWPOZ.js";import"./select-BeH6ObOE.js";import{I as f}from"./breadcrumb-l3Y13ACx.js";import{T as j,a as g,b as a,c as r,d as u,e as i}from"./table-Vjj8mUAI.js";import{B as N}from"./badge-DqdqfeoV.js";import{T as I,a as R,b as v,c as b}from"./tabs-pnSToLgu.js";import"./toast-OoXZlPgn.js";import"./index-nz0zih1z.js";import"./toaster-ChI8d-XG.js";import"./index-Ycud_bTl.js";import"./chevron-down-C3ubRy8i.js";const Q=({data:t})=>{const[h,y]=p.useState(""),[w,T]=p.useState(""),[C,k]=p.useState(""),L=t.performance.top_queries.filter(s=>s.keys[0].toLowerCase().includes(h.toLowerCase())),P=t.performance.top_pages.filter(s=>s.keys[0].toLowerCase().includes(w.toLowerCase())),F=t.performance.daily_performance.filter(s=>s.keys[0].toLowerCase().includes(C.toLowerCase())),l=s=>new Intl.NumberFormat().format(s),m=s=>`${(s*100).toFixed(2)}%`;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(n,{children:[e.jsx(d,{children:e.jsx(x,{children:"Site Information"})}),e.jsx(o,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Site URL"}),e.jsx("p",{className:"font-medium",children:t.site_info.site_url})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),e.jsx(N,{variant:t.site_info.status==="active"?"default":"destructive",children:t.site_info.status})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Updated"}),e.jsx("p",{className:"font-medium",children:new Date(t.site_info.last_updated).toLocaleString()})]})]})})]}),e.jsxs(n,{children:[e.jsx(d,{children:e.jsx(x,{children:"Sitemaps"})}),e.jsx(o,{children:e.jsxs(j,{children:[e.jsx(g,{children:e.jsxs(a,{children:[e.jsx(r,{children:"Path"}),e.jsx(r,{children:"Last Submitted"}),e.jsx(r,{children:"Last Downloaded"}),e.jsx(r,{children:"Warnings"}),e.jsx(r,{children:"Errors"})]})}),e.jsx(u,{children:t.sitemaps.list.map((s,c)=>e.jsxs(a,{children:[e.jsx(i,{className:"font-medium",children:s.path}),e.jsx(i,{children:new Date(s.last_submitted).toLocaleDateString()}),e.jsx(i,{children:new Date(s.last_downloaded).toLocaleDateString()}),e.jsx(i,{children:e.jsx(N,{variant:s.warnings>0?"destructive":"default",children:s.warnings})}),e.jsx(i,{children:e.jsx(N,{variant:s.errors>0?"destructive":"default",children:s.errors})})]},c))})]})})]}),e.jsxs(n,{children:[e.jsx(d,{children:e.jsxs(x,{children:["Performance Summary (",t.performance.period_days," days)"]})}),e.jsx(o,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Clicks"}),e.jsx("p",{className:"text-2xl font-bold",children:l(t.performance.totals.clicks)})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Impressions"}),e.jsx("p",{className:"text-2xl font-bold",children:l(t.performance.totals.impressions)})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Average CTR"}),e.jsx("p",{className:"text-2xl font-bold",children:m(t.performance.totals.average_ctr)})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Average Position"}),e.jsx("p",{className:"text-2xl font-bold",children:t.performance.totals.average_position.toFixed(2)})]})]})})]}),e.jsxs(I,{defaultValue:"queries",className:"w-full",children:[e.jsxs(R,{className:"grid grid-cols-3 w-full",children:[e.jsx(v,{value:"queries",children:"Top Queries"}),e.jsx(v,{value:"pages",children:"Top Pages"}),e.jsx(v,{value:"daily",children:"Daily Performance"})]}),e.jsx(b,{value:"queries",children:e.jsxs(n,{children:[e.jsx(d,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(x,{children:"Top Queries"}),e.jsx(f,{placeholder:"Filter queries...",value:h,onChange:s=>y(s.target.value),className:"max-w-sm"})]})}),e.jsx(o,{children:e.jsxs(j,{children:[e.jsx(g,{children:e.jsxs(a,{children:[e.jsx(r,{children:"Query"}),e.jsx(r,{className:"text-right",children:"Clicks"}),e.jsx(r,{className:"text-right",children:"Impressions"}),e.jsx(r,{className:"text-right",children:"CTR"}),e.jsx(r,{className:"text-right",children:"Position"})]})}),e.jsx(u,{children:L.map((s,c)=>e.jsxs(a,{children:[e.jsx(i,{className:"font-medium",children:s.keys[0]}),e.jsx(i,{className:"text-right",children:l(s.clicks)}),e.jsx(i,{className:"text-right",children:l(s.impressions)}),e.jsx(i,{className:"text-right",children:m(s.ctr)}),e.jsx(i,{className:"text-right",children:s.position.toFixed(2)})]},c))})]})})]})}),e.jsx(b,{value:"pages",children:e.jsxs(n,{children:[e.jsx(d,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(x,{children:"Top Pages"}),e.jsx(f,{placeholder:"Filter pages...",value:w,onChange:s=>T(s.target.value),className:"max-w-sm"})]})}),e.jsx(o,{children:e.jsxs(j,{children:[e.jsx(g,{children:e.jsxs(a,{children:[e.jsx(r,{children:"Page"}),e.jsx(r,{className:"text-right",children:"Clicks"}),e.jsx(r,{className:"text-right",children:"Impressions"}),e.jsx(r,{className:"text-right",children:"CTR"}),e.jsx(r,{className:"text-right",children:"Position"})]})}),e.jsx(u,{children:P.map((s,c)=>e.jsxs(a,{children:[e.jsx(i,{className:"font-medium",children:e.jsx("a",{href:s.keys[0],target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:s.keys[0].replace("https://thedesignsfirm.com","")||"/"})}),e.jsx(i,{className:"text-right",children:l(s.clicks)}),e.jsx(i,{className:"text-right",children:l(s.impressions)}),e.jsx(i,{className:"text-right",children:m(s.ctr)}),e.jsx(i,{className:"text-right",children:s.position.toFixed(2)})]},c))})]})})]})}),e.jsx(b,{value:"daily",children:e.jsxs(n,{children:[e.jsx(d,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(x,{children:"Daily Performance"}),e.jsx(f,{placeholder:"Filter by date...",value:C,onChange:s=>k(s.target.value),className:"max-w-sm"})]})}),e.jsx(o,{children:e.jsxs(j,{children:[e.jsx(g,{children:e.jsxs(a,{children:[e.jsx(r,{children:"Date"}),e.jsx(r,{className:"text-right",children:"Clicks"}),e.jsx(r,{className:"text-right",children:"Impressions"}),e.jsx(r,{className:"text-right",children:"CTR"}),e.jsx(r,{className:"text-right",children:"Position"})]})}),e.jsx(u,{children:F.map((s,c)=>e.jsxs(a,{children:[e.jsx(i,{className:"font-medium",children:new Date(s.keys[0]).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",weekday:"short"})}),e.jsx(i,{className:"text-right",children:l(s.clicks)}),e.jsx(i,{className:"text-right",children:l(s.impressions)}),e.jsx(i,{className:"text-right",children:m(s.ctr)}),e.jsx(i,{className:"text-right",children:s.position.toFixed(2)})]},c))})]})})]})})]})]})};function M(){const{rating:t,report:h}=S().props;return e.jsxs(D,{children:[e.jsx(_,{title:"Profile"}),e.jsx("div",{className:"flex flex-1 flex-col",children:e.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2",children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100 dark:from-gray-900 dark:to-slate-800",children:e.jsx("div",{className:"border-b bg-white/50 dark:bg-gray-900/50 backdrop-blur-sm",children:e.jsx("div",{className:"px-6 py-4",children:h?e.jsx(Q,{data:h}):e.jsx("p",{className:"text-gray-500",children:"No data available"})})})})})})]})}export{M as default};
